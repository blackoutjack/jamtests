
JAM.startProfile('load');
function v154(patterns){function distance(pattern1,pattern2){xDiff=pattern1.X-pattern2.X;yDiff=pattern1.Y-pattern2.Y;return JAM.call(Math.sqrt,Math,[xDiff*xDiff+yDiff*yDiff],JAM.policy.p22)}function crossProductZ(pointA,pointB,pointC){var bX=pointB.x;pointB=pointB.y;return(pointC.x-bX)*(pointA.y-pointB)-(pointC.y-pointB)*(pointA.x-bX)}var zeroOneDistance=distance(patterns[0],patterns[1]),oneTwoDistance=distance(patterns[1],patterns[2]),zeroTwoDistance=distance(patterns[0],patterns[2]),v1063=oneTwoDistance>=
zeroOneDistance;v1063&&(v1063=oneTwoDistance>=zeroTwoDistance);v1063?(zeroTwoDistance=patterns[0],zeroOneDistance=patterns[1],oneTwoDistance=patterns[2]):((oneTwoDistance=zeroTwoDistance>=oneTwoDistance)&&(oneTwoDistance=zeroTwoDistance>=zeroOneDistance),oneTwoDistance?(zeroTwoDistance=patterns[1],zeroOneDistance=patterns[0],oneTwoDistance=patterns[2]):(zeroTwoDistance=patterns[2],zeroOneDistance=patterns[0],oneTwoDistance=patterns[1]));0>crossProductZ(zeroOneDistance,zeroTwoDistance,oneTwoDistance)&&
(v1063=zeroOneDistance,zeroOneDistance=oneTwoDistance,oneTwoDistance=v1063);patterns[0]=zeroOneDistance;patterns[1]=zeroTwoDistance;patterns[2]=oneTwoDistance}function v153(from,to){var v1066=(to||from)+1;v1066||(v1066=this.length);var v1066=JAM.call(this.slice,this,[v1066],JAM.policy.p22),v172;this.length=v172=0>from?this.length+from:from;v172=this.push;return JAM.call(v172.apply,v172,[this,v1066],JAM.policy.p33)}
function v152(){for(var ret=Array(qrcode.width*qrcode.height),y=0,v177=y<qrcode.height;v177;){for(var v177=0,v176=v177<qrcode.width;v176;)v176=JAM.call(qrcode.getPixel,qrcode,[v177,y],JAM.policy.p33),ret[v177+y*qrcode.width]=v176,v177++,v176=v177<qrcode.width;y++;v177=y<qrcode.height}return ret}
function v151(){for(var grayScale=qrcode.grayscale(),middle=JAM.call(qrcode.getMiddleBrightnessPerArea,qrcode,[grayScale],JAM.policy.p22),sqrtNumArea=middle.length,areaWidth=JAM.call(Math.floor,Math,[qrcode.width/sqrtNumArea],JAM.policy.p22),areaHeight=JAM.call(Math.floor,Math,[qrcode.height/sqrtNumArea],JAM.policy.p22),bitmap=Array(qrcode.height*qrcode.width),ay=0,v185=ay<sqrtNumArea;v185;){for(var v185=0,v184=v185<sqrtNumArea;v184;){for(var v184=0,v183=v184<areaHeight;v183;){for(var v183=0,v182=
v183<areaWidth;v182;){var v182=areaWidth*v185+v183+(areaHeight*ay+v184)*qrcode.width,v1082;v1082=grayScale[areaWidth*v185+v183+(areaHeight*ay+v184)*qrcode.width]<middle[v185][ay]?!0:!1;bitmap[v182]=v1082;v183++;v182=v183<areaWidth}v184++;v183=v184<areaHeight}v185++;v184=v185<sqrtNumArea}ay++;v185=ay<sqrtNumArea}return bitmap}
function v150(image){for(var numSqrtArea=4,areaWidth=JAM.call(Math.floor,Math,[qrcode.width/numSqrtArea],JAM.policy.p22),areaHeight=JAM.call(Math.floor,Math,[qrcode.height/numSqrtArea],JAM.policy.p22),minmax=Array(numSqrtArea),i=0,v190=i<numSqrtArea;v190;){v190=Array(numSqrtArea);minmax[i]=v190;for(var v190=0,v189=v190<numSqrtArea;v189;){var v189=minmax[i],v2792=[0,0];v189[v190]=v2792;v190++;v189=v190<numSqrtArea}i++;v190=i<numSqrtArea}i=0;for(v190=i<numSqrtArea;v190;){v190=0;for(v189=v190<numSqrtArea;v189;){minmax[v190][i][0]=
255;v189=0;for(v2792=v189<areaHeight;v2792;){for(var v2792=0,v197=v2792<areaWidth;v197;)v197=image[areaWidth*v190+v2792+(areaHeight*i+v189)*qrcode.width],v197<minmax[v190][i][0]&&(minmax[v190][i][0]=v197),v197>minmax[v190][i][1]&&(minmax[v190][i][1]=v197),v2792++,v197=v2792<areaWidth;v189++;v2792=v189<areaHeight}v190++;v189=v190<numSqrtArea}i++;v190=i<numSqrtArea}image=Array(numSqrtArea);areaWidth=0;for(areaHeight=areaWidth<numSqrtArea;areaHeight;)areaHeight=Array(numSqrtArea),image[areaWidth]=areaHeight,
areaWidth++,areaHeight=areaWidth<numSqrtArea;i=0;for(areaWidth=i<numSqrtArea;areaWidth;){v190=0;for(areaWidth=v190<numSqrtArea;areaWidth;)areaWidth=image[v190],areaHeight=JAM.call(Math.floor,Math,[(minmax[v190][i][0]+minmax[v190][i][1])/2],JAM.policy.p22),areaWidth[i]=areaHeight,v190++,areaWidth=v190<numSqrtArea;i++;areaWidth=i<numSqrtArea}return image}
function v149(th){for(var ret=Array(qrcode.width*qrcode.height),y=0,v208=y<qrcode.height;v208;){for(var v208=0,v207=v208<qrcode.width;v207;){var gray=JAM.call(qrcode.getPixel,qrcode,[v208,y],JAM.policy.p33),v207=v208+y*qrcode.width,gray=gray<=th?!0:!1;ret[v207]=gray;v208++;v207=v208<qrcode.width}y++;v208=y<qrcode.height}return ret}
function v148(x,y){if(qrcode.width<x)throw"point error";if(qrcode.height<y)throw"point error";var point=4*x+y*qrcode.width*4;return p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100}
function v147(ctx){var start=(new Date).getTime(),image=qrcode.grayScaleToBitmap();if(qrcode.debug){for(var y=0,v223=y<qrcode.height;v223;){for(var v223=0,v222=v223<qrcode.width;v222;){var v222=4*v223+y*qrcode.width*4,v217=qrcode.imagedata.data,v1110;v1110=0;v217[v222]=v1110;v217=qrcode.imagedata.data;v1110=v222+1;var v1112;v1112=0;v217[v1110]=v1112;v217=qrcode.imagedata.data;v222+=2;v1110=image[v223+y*qrcode.width]?255:0;v217[v222]=v1110;v223++;v222=v223<qrcode.width}y++;v223=y<qrcode.height}JAM.call(ctx.putImageData,
ctx,[qrcode.imagedata,0,0],JAM.policy.p25)}image=new Detector(image);image=image.detect();qrcode.debug&&JAM.call(ctx.putImageData,ctx,[qrcode.imagedata,0,0],JAM.policy.p25);ctx=JAM.call(Decoder.decode,Decoder,[image.bits],JAM.policy.p22);image=ctx.DataByte;ctx="";y=0;for(v223=y<image.length;v223;){v223=0;for(v222=v223<image[y].length;v222;)ctx+=JAM.call(String.fromCharCode,String,[image[y][v223]],JAM.policy.p22),v223++,v222=v223<image[y].length;y++;v223=y<image.length}image=(new Date).getTime();start=
image-start;JAM.call(console.log,console,[start],JAM.policy.p24);return JAM.call(qrcode.decode_utf8,qrcode,[ctx],JAM.policy.p22)}function v146(s){return decodeURIComponent(escape(s))}
function v145(src){function v144(){JAM.startProfile('decode');var canvas_qr=JAM.call(document.createElement,document,["canvas"],JAM.policy.p16),context=JAM.call(canvas_qr.getContext,canvas_qr,["2d"],JAM.policy.p16),canvas_out=JAM.call(document.getElementById,document,["out-canvas"],JAM.policy.p16);null!=canvas_out&&(canvas_out=JAM.call(canvas_out.getContext,canvas_out,["2d"],JAM.policy.p16),JAM.call(canvas_out.clearRect,canvas_out,[0,0,320,240],JAM.policy.p20),JAM.call(canvas_out.drawImage,canvas_out,[image,0,0,320,240],JAM.policy.p25));
canvas_qr.width=image.width;canvas_qr.height=image.height;JAM.call(context.drawImage,context,[image,0,0],JAM.policy.p25);qrcode.width=image.width;qrcode.height=image.height;try{var canvas_qr=qrcode,v2795=JAM.call(context.getImageData,context,[0,0,image.width,image.height],JAM.policy.p20);canvas_qr.imagedata=v2795}catch(e){qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!";JAM.stopProfile('decode');null!=qrcode.callback&&JAM.call(qrcode.callback,qrcode,
[qrcode.result],JAM.policy.p22);return}try{var v2795=qrcode,v2796=JAM.call(qrcode.process,qrcode,[context],JAM.policy.p22);v2795.result=v2796}catch(e$$0){JAM.call(console.log,console,[e$$0],JAM.policy.p22),qrcode.result="error decoding QR Code"}JAM.stopProfile('decode');null!=qrcode.callback&&JAM.call(qrcode.callback,qrcode,[qrcode.result],JAM.policy.p22)}if(0==arguments.length){var canvas_qr=JAM.call(document.getElementById,document,["qr-canvas"],JAM.policy.p16),context=JAM.call(canvas_qr.getContext,canvas_qr,["2d"],JAM.policy.p16);
qrcode.width=canvas_qr.width;qrcode.height=canvas_qr.height;var canvas_qr=qrcode,v2797=JAM.call(context.getImageData,context,[0,0,qrcode.width,qrcode.height],JAM.policy.p20);canvas_qr.imagedata=v2797;canvas_qr=qrcode;context=JAM.call(qrcode.process,qrcode,[context],JAM.policy.p22);canvas_qr.result=context;JAM.stopProfile('decode');null!=qrcode.callback&&JAM.call(qrcode.callback,qrcode,[qrcode.result],JAM.policy.p22);return qrcode.result}var image=new Image;JAM.set(image,"onload",v144);introspect(JAM.policy.p1)image.src=src}
function v143(bits){var parser=new BitMatrixParser(bits);bits=parser.readVersion();for(var ecLevel=parser.readFormatInformation().ErrorCorrectionLevel,parser=parser.readCodewords(),parser=JAM.call(DataBlock.getDataBlocks,DataBlock,[parser,bits,ecLevel],JAM.policy.p33),totalBytes=0,i=0,v246=i<parser.Length;v246;)totalBytes+=parser[i].NumDataCodewords,i++,v246=i<parser.Length;for(var totalBytes=Array(totalBytes),j=v246=0,i=j<parser.length;i;){var i=parser[j],codewordBytes=i.Codewords,numDataCodewords=
i.NumDataCodewords;JAM.call(Decoder.correctErrors,Decoder,[codewordBytes,numDataCodewords],JAM.policy.p33);for(var i=0,v248=i<numDataCodewords;v248;)v248=v246,v246+=1,totalBytes[v248]=codewordBytes[i],i++,v248=i<numDataCodewords;j++;i=j<parser.length}return bits=new QRCodeDataBlockReader(totalBytes,bits.VersionNumber,ecLevel.Bits)}
function v142(codewordBytes,numDataCodewords){for(var numCodewords=codewordBytes.length,codewordsInts=Array(numCodewords),i=0,v253=i<numCodewords;v253;)codewordsInts[i]=codewordBytes[i]&255,i++,v253=i<numCodewords;i=codewordBytes.length-numDataCodewords;try{var v255=Decoder.rsDecoder;JAM.call(v255.decode,v255,[codewordsInts,i],JAM.policy.p33)}catch(rse){throw rse;}i=0;for(v255=i<numDataCodewords;v255;)codewordBytes[i]=codewordsInts[i],i++,v255=i<numDataCodewords}function v141(a,b){return a^b}
function v140(reference){var v1135=0>reference;v1135||(v1135=7<reference);if(v1135)throw"System.ArgumentException";return DataMask.DATA_MASKS[reference]}
function v139(rawCodewords,version,ecLevel){if(rawCodewords.length!=version.TotalCodewords)throw"ArgumentException";var ecBlocks=JAM.call(version.getECBlocksForLevel,version,[ecLevel],JAM.policy.p22);version=0;var ecBlockArray=ecBlocks.ecBlocks,i=0;for(ecLevel=i<ecBlockArray.length;ecLevel;)version+=ecBlockArray[i].Count,i++,ecLevel=i<ecBlockArray.length;version=Array(version);for(var j=ecLevel=0,i=j<ecBlockArray.length;i;){for(var ecBlock=ecBlockArray[j],i=0,v263=i<ecBlock.Count;v263;){var numDataCodewords=
ecBlock.DataCodewords,numBlockCodewords=ecBlocks.ECCodewordsPerBlock+numDataCodewords,v263=ecLevel;ecLevel+=1;numDataCodewords=new DataBlock(numDataCodewords,Array(numBlockCodewords));version[v263]=numDataCodewords;i++;v263=i<ecBlock.Count}j++;i=j<ecBlockArray.length}i=version[0].codewords.length;ecBlockArray=version.length-1;for(j=0<=ecBlockArray;j;){j=version[ecBlockArray].codewords.length;if(j==i)break;ecBlockArray--;j=0<=ecBlockArray}ecBlockArray++;ecBlock=i-ecBlocks.ECCodewordsPerBlock;i=ecBlocks=
0;for(j=i<ecBlock;j;){j=0;for(v263=j<ecLevel;v263;)v263=version[j].codewords,numDataCodewords=ecBlocks,ecBlocks+=1,v263[i]=rawCodewords[numDataCodewords],j++,v263=j<ecLevel;i++;j=i<ecBlock}j=ecBlockArray;for(i=j<ecLevel;i;)i=version[j].codewords,v263=ecBlocks,ecBlocks+=1,i[ecBlock]=rawCodewords[v263],j++,i=j<ecLevel;v263=version[0].codewords.length;i=ecBlock;for(j=i<v263;j;){j=0;for(ecBlock=j<ecLevel;ecBlock;)ecBlock=j<ecBlockArray?i:i+1,numDataCodewords=version[j].codewords,numBlockCodewords=ecBlocks,
ecBlocks+=1,numDataCodewords[ecBlock]=rawCodewords[numBlockCodewords],j++,ecBlock=j<ecLevel;i++;j=i<v263}return version}function v138(bits){var v1156=0>bits;v1156||(v1156=bits>=FOR_BITS.Length);if(v1156)throw"ArgumentException";return FOR_BITS[bits]}
function v137(maskedFormatInfo){for(var bestDifference=4294967295,bestFormatInfo=0,i=0,v285=i<FORMAT_INFO_DECODE_LOOKUP.length;v285;){var v285=FORMAT_INFO_DECODE_LOOKUP[i],targetInfo=v285[0];if(targetInfo==maskedFormatInfo)return new FormatInformation(v285[1]);targetInfo=JAM.call(this.numBitsDiffering,this,[maskedFormatInfo,targetInfo],JAM.policy.p33);targetInfo<bestDifference&&(bestFormatInfo=v285[1],bestDifference=targetInfo);i++;v285=i<FORMAT_INFO_DECODE_LOOKUP.length}return 3>=bestDifference?
new FormatInformation(bestFormatInfo):null}function v136(maskedFormatInfo){var formatInfo=JAM.call(FormatInformation.doDecodeFormatInformation,FormatInformation,[maskedFormatInfo],JAM.policy.p22);return null!=formatInfo?formatInfo:JAM.call(FormatInformation.doDecodeFormatInformation,FormatInformation,[maskedFormatInfo^FORMAT_INFO_MASK_QR],JAM.policy.p22)}
function v135(a,b){a^=b;return BITS_SET_IN_HALF_BYTE[a&15]+BITS_SET_IN_HALF_BYTE[URShift(a,4)&15]+BITS_SET_IN_HALF_BYTE[URShift(a,8)&15]+BITS_SET_IN_HALF_BYTE[URShift(a,12)&15]+BITS_SET_IN_HALF_BYTE[URShift(a,16)&15]+BITS_SET_IN_HALF_BYTE[URShift(a,20)&15]+BITS_SET_IN_HALF_BYTE[URShift(a,24)&15]+BITS_SET_IN_HALF_BYTE[URShift(a,28)&15]}function v134(x0,y0,x1,y1,x2,y2,x3,y3){return JAM.call(this.squareToQuadrilateral,this,[x0,y0,x1,y1,x2,y2,x3,y3],JAM.policy.p33).buildAdjoint()}
function v133(x0,y0,x1,y1,x2,y2,x3,y3){dy2=y3-y2;dy3=y0-y1+y2-y3;var v1164=0==dy2;v1164&&(v1164=0==dy3);if(v1164)return new PerspectiveTransform(x1-x0,x2-x1,x0,y1-y0,y2-y1,y0,0,0,1);dx1=x1-x2;dx2=x3-x2;dx3=x0-x1+x2-x3;dy1=y1-y2;denominator=dx1*dy2-dx2*dy1;a13=(dx3*dy2-dx2*dy3)/denominator;a23=(dx1*dy3-dx3*dy1)/denominator;return new PerspectiveTransform(x1-x0+a13*x1,x3-x0+a23*x3,x0,y1-y0+a13*y1,y3-y0+a23*y3,y0,a13,a23,1)}
function v132(x0,y0,x1,y1,x2,y2,x3,y3,x0p,y0p,x1p,y1p,x2p,y2p,x3p,y3p){x0=JAM.call(this.quadrilateralToSquare,this,[x0,y0,x1,y1,x2,y2,x3,y3],JAM.policy.p33);x0p=JAM.call(this.squareToQuadrilateral,this,[x0p,y0p,x1p,y1p,x2p,y2p,x3p,y3p],JAM.policy.p33);return JAM.call(x0p.times,x0p,[x0],JAM.policy.p22)}
function v131(versionBits){for(var bestDifference=4294967295,bestVersion=0,i=0,v311=i<Version.VERSION_DECODE_INFO.length;v311;){v311=Version.VERSION_DECODE_INFO[i];if(v311==versionBits)return JAM.call(this.getVersionForNumber,this,[i+7],JAM.policy.p22);v311=JAM.call(FormatInformation.numBitsDiffering,FormatInformation,[versionBits,v311],JAM.policy.p33);v311<bestDifference&&(bestVersion=i+7,bestDifference=v311);i++;v311=i<Version.VERSION_DECODE_INFO.length}return 3>=bestDifference?JAM.call(this.getVersionForNumber,
this,[bestVersion],JAM.policy.p22):null}function v130(dimension){if(1!=dimension%4)throw"Error getProvisionalVersionForDimension";try{return JAM.call(Version.getVersionForNumber,Version,[dimension-17>>2],JAM.policy.p22)}catch(iae){throw"Error getVersionForNumber";}}function v129(versionNumber){var v1182=1>versionNumber;v1182||(v1182=40<versionNumber);if(v1182)throw"ArgumentException";return Version.VERSIONS[versionNumber-1]}
function v128(image,dimension,p1ToX,p1ToY,p2ToX,p2ToY,p3ToX,p3ToY,p4ToX,p4ToY,p1FromX,p1FromY,p2FromX,p2FromY,p3FromX,p3FromY,p4FromX,p4FromY){p1ToX=JAM.call(PerspectiveTransform.quadrilateralToQuadrilateral,PerspectiveTransform,[p1ToX,p1ToY,p2ToX,p2ToY,p3ToX,p3ToY,p4ToX,p4ToY,p1FromX,p1FromY,p2FromX,p2FromY,p3FromX,p3FromY,p4FromX,p4FromY],JAM.policy.p33);return JAM.call(GridSampler.sampleGrid3,GridSampler,[image,dimension,p1ToX],JAM.policy.p33)}
function v127(image,dimension,transform){for(var bits=new BitMatrix(dimension),points=Array(dimension<<1),y=0,v334=y<dimension;v334;){for(var v334=points.length,iValue=y+.5,x=0,v321=x<v334;v321;)points[x]=(x>>1)+.5,points[x+1]=iValue,x+=2,v321=x<v334;JAM.call(transform.transformPoints1,transform,[points],JAM.policy.p22);JAM.call(GridSampler.checkAndNudgePoints,GridSampler,[image,points],JAM.policy.p33);try{for(x=0,iValue=x<v334;iValue;){var xpoint=4*JAM.call(Math.floor,Math,[points[x]],JAM.policy.p22)+
JAM.call(Math.floor,Math,[points[x+1]],JAM.policy.p22)*qrcode.width*4,bit=image[JAM.call(Math.floor,Math,[points[x]],JAM.policy.p22)+qrcode.width*JAM.call(Math.floor,Math,[points[x+1]],JAM.policy.p22)],v325=qrcode.imagedata.data,v1188;v1188=bit?255:0;v325[xpoint]=v1188;var v326=qrcode.imagedata.data,v321=xpoint+1,v1190;v1190=bit?255:0;v326[v321]=v1190;qrcode.imagedata.data[xpoint+2]=0;qrcode.imagedata.data[xpoint+3]=255;bit&&JAM.call(bits.set_Renamed,bits,[x>>1,y],JAM.policy.p23);x+=2;iValue=x<v334}}catch(aioobe){throw"Error.checkAndNudgePoints";
}y++;v334=y<dimension}return bits}
function v126(image,points){var width=qrcode.width,height=qrcode.height,nudged=!0,offset=0,v1193=offset<points.Length;for(v1193&&(v1193=nudged);v1193;){var v1193=JAM.call(Math.floor,Math,[points[offset]],JAM.policy.p22),y=JAM.call(Math.floor,Math,[points[offset+1]],JAM.policy.p22);(nudged=-1>v1193)||(nudged=v1193>width);nudged||(nudged=-1>y);nudged||(nudged=y>height);if(nudged)throw"Error.checkAndNudgePoints ";nudged=!1;-1==v1193?(points[offset]=0,nudged=!0):v1193==width&&(points[offset]=width-1,
nudged=!0);-1==y?(points[offset+1]=0,nudged=!0):y==height&&(points[offset+1]=height-1,nudged=!0);offset+=2;(v1193=offset<points.Length)&&(v1193=nudged)}nudged=!0;offset=points.Length-2;for((v1193=0<=offset)&&(v1193=nudged);v1193;){v1193=JAM.call(Math.floor,Math,[points[offset]],JAM.policy.p22);y=JAM.call(Math.floor,Math,[points[offset+1]],JAM.policy.p22);(nudged=-1>v1193)||(nudged=v1193>width);nudged||(nudged=-1>y);nudged||(nudged=y>height);if(nudged)throw"Error.checkAndNudgePoints ";nudged=!1;-1==
v1193?(points[offset]=0,nudged=!0):v1193==width&&(points[offset]=width-1,nudged=!0);-1==y?(points[offset+1]=0,nudged=!0):y==height&&(points[offset+1]=height-1,nudged=!0);offset-=2;(v1193=0<=offset)&&(v1193=nudged)}}
function ECB(count,dataCodewords){function v1(){return this.dataCodewords}function v0(){return this.count}this.count=count;this.dataCodewords=dataCodewords;JAM.call(this.__defineGetter__,this,["Count",v0],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["DataCodewords",v1],JAM.policy.p19)}
function ECBlocks(ecCodewordsPerBlock,ecBlocks1,ecBlocks2){function v5(){return this.ecBlocks}function v4(){for(var total=0,i=0,v356=i<this.ecBlocks.length;v356;)total+=this.ecBlocks[i].length,i++,v356=i<this.ecBlocks.length;return total}function v3(){return this.ecCodewordsPerBlock*this.NumBlocks}function v2(){return this.ecCodewordsPerBlock}this.ecCodewordsPerBlock=ecCodewordsPerBlock;this.ecBlocks=ecCodewordsPerBlock=ecBlocks2?[ecBlocks1,ecBlocks2]:Array(ecBlocks1);JAM.call(this.__defineGetter__,
this,["ECCodewordsPerBlock",v2],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["TotalECCodewords",v3],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["NumBlocks",v4],JAM.policy.p19);this.getECBlocks=v5}
function Version(versionNumber,alignmentPatternCenters,ecBlocks1,ecBlocks2,ecBlocks3,ecBlocks4){function v11(ecLevel){return this.ecBlocks[ecLevel.ordinal_Renamed_Field]}function v10(){var dimension=this.DimensionForVersion,bitMatrix=new BitMatrix(dimension);JAM.call(bitMatrix.setRegion,bitMatrix,[0,0,9,9],JAM.policy.p20);JAM.call(bitMatrix.setRegion,bitMatrix,[dimension-8,0,8,9],JAM.policy.p23);JAM.call(bitMatrix.setRegion,bitMatrix,[0,dimension-8,9,8],JAM.policy.p20);for(var max=this.alignmentPatternCenters.length,
x=0,v368=x<max;v368;){for(var v368=this.alignmentPatternCenters[x]-2,y=0,v367=y<max;v367;){if(v367=0==x)(v367=0==y)||(v367=y==max-1);v367||(v367=x==max-1)&&(v367=0==y);v367||JAM.call(bitMatrix.setRegion,bitMatrix,[this.alignmentPatternCenters[y]-2,v368,5,5],JAM.policy.p23);y++;v367=y<max}x++;v368=x<max}JAM.call(bitMatrix.setRegion,bitMatrix,[6,9,1,dimension-17],JAM.policy.p20);JAM.call(bitMatrix.setRegion,bitMatrix,[9,6,dimension-17,1],JAM.policy.p20);6<this.versionNumber&&(JAM.call(bitMatrix.setRegion,
bitMatrix,[dimension-11,0,3,6],JAM.policy.p23),JAM.call(bitMatrix.setRegion,bitMatrix,[0,dimension-11,6,3],JAM.policy.p20));return bitMatrix}function v9(){return 17+4*this.versionNumber}function v8(){return this.totalCodewords}function v7(){return this.alignmentPatternCenters}function v6(){return this.versionNumber}this.versionNumber=versionNumber;this.alignmentPatternCenters=alignmentPatternCenters;this.ecBlocks=versionNumber=[ecBlocks1,ecBlocks2,ecBlocks3,ecBlocks4];versionNumber=0;alignmentPatternCenters=
ecBlocks1.ECCodewordsPerBlock;ecBlocks1=ecBlocks1.ecBlocks;ecBlocks2=0;for(ecBlocks3=ecBlocks2<ecBlocks1.length;ecBlocks3;)ecBlocks3=ecBlocks1[ecBlocks2],versionNumber+=ecBlocks3.Count*(ecBlocks3.DataCodewords+alignmentPatternCenters),ecBlocks2++,ecBlocks3=ecBlocks2<ecBlocks1.length;this.totalCodewords=versionNumber;JAM.call(this.__defineGetter__,this,["VersionNumber",v6],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["AlignmentPatternCenters",v7],JAM.policy.p19);JAM.call(this.__defineGetter__,
this,["TotalCodewords",v8],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["DimensionForVersion",v9],JAM.policy.p19);this.buildFunctionPattern=v10;this.getECBlocksForLevel=v11}
function buildVersions(){return[new Version(1,[],new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new Version(2,[6,18],new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new Version(3,[6,22],new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new Version(4,[6,26],new ECBlocks(20,
new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new Version(5,[6,30],new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new Version(6,[6,34],new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new Version(7,[6,22,38],new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,
31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new Version(8,[6,24,42],new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new Version(9,[6,26,46],new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new Version(10,[6,28,50],
new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new Version(11,[6,30,54],new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new Version(12,[6,32,58],new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,
new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new Version(13,[6,34,62],new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new Version(14,[6,26,46,66],new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new Version(15,[6,26,
48,70],new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new Version(16,[6,26,50,74],new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new Version(17,[6,30,54,78],new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,
46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new Version(18,[6,30,56,82],new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new Version(19,[6,30,58,86],new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,
new ECB(9,13),new ECB(16,14))),new Version(20,[6,34,62,90],new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new Version(21,[6,28,50,72,94],new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new Version(22,[6,26,50,74,98],new ECBlocks(28,new ECB(2,
111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new Version(23,[6,30,54,74,102],new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new Version(24,[6,28,54,80,106],new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,
24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new Version(25,[6,32,58,84,110],new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new Version(26,[6,30,58,86,114],new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),
new Version(27,[6,34,62,90,118],new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new Version(28,[6,26,50,74,98,122],new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new Version(29,[6,30,54,78,102,126],new ECBlocks(30,new ECB(7,
116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new Version(30,[6,26,52,78,104,130],new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new Version(31,[6,30,56,82,108,134],new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),
new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new Version(32,[6,34,60,86,112,138],new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new Version(33,[6,30,58,86,114,142],new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,
new ECB(11,15),new ECB(46,16))),new Version(34,[6,34,62,90,118,146],new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new Version(35,[6,30,54,78,102,126,150],new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new Version(36,
[6,24,50,76,102,128,154],new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new Version(37,[6,28,54,80,106,132,158],new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new Version(38,[6,32,58,84,110,136,162],new ECBlocks(30,new ECB(4,
122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new Version(39,[6,26,54,82,110,138,166],new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new Version(40,[6,30,58,86,114,142,170],new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,
47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16)))]}
function PerspectiveTransform(a11,a21,a31,a12,a22,a32,a13$$0,a23$$0,a33){function v15(other){return new PerspectiveTransform(this.a11*other.a11+this.a21*other.a12+this.a31*other.a13,this.a11*other.a21+this.a21*other.a22+this.a31*other.a23,this.a11*other.a31+this.a21*other.a32+this.a31*other.a33,this.a12*other.a11+this.a22*other.a12+this.a32*other.a13,this.a12*other.a21+this.a22*other.a22+this.a32*other.a23,this.a12*other.a31+this.a22*other.a32+this.a32*other.a33,this.a13*other.a11+this.a23*other.a12+
this.a33*other.a13,this.a13*other.a21+this.a23*other.a22+this.a33*other.a23,this.a13*other.a31+this.a23*other.a32+this.a33*other.a33)}function v14(){return new PerspectiveTransform(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}
function v13(xValues,yValues){for(var n=xValues.length,i=0,v438=i<n;v438;){var v438=xValues[i],y=yValues[i],denominator=this.a13*v438+this.a23*y+this.a33;xValues[i]=(this.a11*v438+this.a21*y+this.a31)/denominator;yValues[i]=(this.a12*v438+this.a22*y+this.a32)/denominator;i++;v438=i<n}}function v12(points){for(var max=points.length,a11=this.a11,a12=this.a12,a13=this.a13,a21=this.a21,a22=this.a22,a23=this.a23,a31=this.a31,a32=this.a32,a33=this.a33,i=0,v443=i<max;v443;){var v443=points[i],y=points[i+
1],denominator=a13*v443+a23*y+a33;points[i]=(a11*v443+a21*y+a31)/denominator;points[i+1]=(a12*v443+a22*y+a32)/denominator;i+=2;v443=i<max}}this.a11=a11;this.a12=a12;this.a13=a13$$0;this.a21=a21;this.a22=a22;this.a23=a23$$0;this.a31=a31;this.a32=a32;this.a33=a33;this.transformPoints1=v12;this.transformPoints2=v13;this.buildAdjoint=v14;this.times=v15}function DetectorResult(bits,points){this.bits=bits;this.points=points}
function Detector(image$$0){function v26(){var v444=new FinderPatternFinder,v444=JAM.call(v444.findFinderPattern,v444,[this.image],JAM.policy.p22);return JAM.call(this.processFinderPatternInfo,this,[v444],JAM.policy.p22)}function v25(info){var topLeft=info.TopLeft,topRight=info.TopRight;info=info.BottomLeft;var moduleSize=JAM.call(this.calculateModuleSize,this,[topLeft,topRight,info],JAM.policy.p33);if(1>moduleSize)throw"Error";var dimension=JAM.call(this.computeDimension,this,[topLeft,topRight,info,
moduleSize],JAM.policy.p33),provisionalVersion=JAM.call(Version.getProvisionalVersionForDimension,Version,[dimension],JAM.policy.p22),modulesBetweenFPCenters=provisionalVersion.DimensionForVersion-7,alignmentPattern=null;if(0<provisionalVersion.AlignmentPatternCenters.length)for(var bottomRightX=topRight.X-topLeft.X+info.X,provisionalVersion=topRight.Y-topLeft.Y+info.Y,correctionToTopLeft=1-3/modulesBetweenFPCenters,modulesBetweenFPCenters=JAM.call(Math.floor,Math,[topLeft.X+correctionToTopLeft*(bottomRightX-
topLeft.X)],JAM.policy.p22),provisionalVersion=JAM.call(Math.floor,Math,[topLeft.Y+correctionToTopLeft*(provisionalVersion-topLeft.Y)],JAM.policy.p22),bottomRightX=4,correctionToTopLeft=16>=bottomRightX;correctionToTopLeft;){alignmentPattern=JAM.call(this.findAlignmentInRegion,this,[moduleSize,modulesBetweenFPCenters,provisionalVersion,bottomRightX],JAM.policy.p33);break}moduleSize=JAM.call(this.createTransform,this,[topLeft,topRight,info,alignmentPattern,dimension],JAM.policy.p33);dimension=JAM.call(this.sampleGrid,
this,[this.image,moduleSize,dimension],JAM.policy.p33);topLeft=null==alignmentPattern?[info,topLeft,topRight]:[info,topLeft,topRight,alignmentPattern];return new DetectorResult(dimension,topLeft)}function v24(image,transform,dimension){var sampler=GridSampler;return JAM.call(sampler.sampleGrid3,sampler,[image,dimension,transform],JAM.policy.p33)}function v23(topLeft,topRight,bottomLeft,alignmentPattern,dimension){dimension-=3.5;var bottomRightX,sourceBottomRightX,sourceBottomRightY;null!=alignmentPattern?
(bottomRightX=alignmentPattern.X,alignmentPattern=alignmentPattern.Y,sourceBottomRightX=sourceBottomRightY=dimension-3):(bottomRightX=topRight.X-topLeft.X+bottomLeft.X,alignmentPattern=topRight.Y-topLeft.Y+bottomLeft.Y,sourceBottomRightX=sourceBottomRightY=dimension);return topLeft=JAM.call(PerspectiveTransform.quadrilateralToQuadrilateral,PerspectiveTransform,[3.5,3.5,dimension,3.5,sourceBottomRightX,sourceBottomRightY,3.5,dimension,topLeft.X,topLeft.Y,topRight.X,topRight.Y,bottomRightX,alignmentPattern,
bottomLeft.X,bottomLeft.Y],JAM.policy.p20)}function v22(overallEstModuleSize,estAlignmentX,estAlignmentY,allowanceFactor){var allowance=JAM.call(Math.floor,Math,[allowanceFactor*overallEstModuleSize],JAM.policy.p22);allowanceFactor=JAM.call(Math.max,Math,[0,estAlignmentX-allowance],JAM.policy.p20);estAlignmentX=JAM.call(Math.min,Math,[qrcode.width-1,estAlignmentX+allowance],JAM.policy.p33);if(estAlignmentX-allowanceFactor<3*overallEstModuleSize)throw"Error";var alignmentAreaTopY=JAM.call(Math.max,
Math,[0,estAlignmentY-allowance],JAM.policy.p20);estAlignmentY=JAM.call(Math.min,Math,[qrcode.height-1,estAlignmentY+allowance],JAM.policy.p33);overallEstModuleSize=new AlignmentPatternFinder(this.image,allowanceFactor,alignmentAreaTopY,estAlignmentX-allowanceFactor,estAlignmentY-alignmentAreaTopY,overallEstModuleSize,this.resultPointCallback);return overallEstModuleSize.find()}function v21(topLeft,topRight,bottomLeft,moduleSize){topRight=JAM.call(Math.round,Math,[JAM.call(this.distance,this,[topLeft,
topRight],JAM.policy.p33)/moduleSize],JAM.policy.p22);topLeft=JAM.call(Math.round,Math,[JAM.call(this.distance,this,[topLeft,bottomLeft],JAM.policy.p33)/moduleSize],JAM.policy.p22);topLeft=(topRight+topLeft>>1)+7;switch(topLeft&3){case 0:topLeft++;break;case 2:topLeft--;break;case 3:throw"Error";}return topLeft}function v20(pattern1,pattern2){xDiff=pattern1.X-pattern2.X;yDiff=pattern1.Y-pattern2.Y;return JAM.call(Math.sqrt,Math,[xDiff*xDiff+yDiff*yDiff],JAM.policy.p22)}function v19(topLeft,topRight,
bottomLeft){return(JAM.call(this.calculateModuleSizeOneWay,this,[topLeft,topRight],JAM.policy.p33)+JAM.call(this.calculateModuleSizeOneWay,this,[topLeft,bottomLeft],JAM.policy.p33))/2}function v18(pattern,otherPattern){var moduleSizeEst1=JAM.call(this.sizeOfBlackWhiteBlackRunBothWays,this,[JAM.call(Math.floor,Math,[pattern.X],JAM.policy.p22),JAM.call(Math.floor,Math,[pattern.Y],JAM.policy.p22),JAM.call(Math.floor,Math,[otherPattern.X],JAM.policy.p22),JAM.call(Math.floor,Math,[otherPattern.Y],JAM.policy.p22)],
JAM.policy.p33),moduleSizeEst2=JAM.call(this.sizeOfBlackWhiteBlackRunBothWays,this,[JAM.call(Math.floor,Math,[otherPattern.X],JAM.policy.p22),JAM.call(Math.floor,Math,[otherPattern.Y],JAM.policy.p22),JAM.call(Math.floor,Math,[pattern.X],JAM.policy.p22),JAM.call(Math.floor,Math,[pattern.Y],JAM.policy.p22)],JAM.policy.p33);return isNaN(moduleSizeEst1)?moduleSizeEst2/7:isNaN(moduleSizeEst2)?moduleSizeEst1/7:(moduleSizeEst1+moduleSizeEst2)/14}function v17(fromX,fromY,toX,toY){var result=JAM.call(this.sizeOfBlackWhiteBlackRun,
this,[fromX,fromY,toX,toY],JAM.policy.p33),scale=1;toX=fromX-(toX-fromX);0>toX?(scale=fromX/(fromX-toX),toX=0):toX>=qrcode.width&&(scale=(qrcode.width-1-fromX)/(toX-fromX),toX=qrcode.width-1);toY=JAM.call(Math.floor,Math,[fromY-(toY-fromY)*scale],JAM.policy.p22);scale=1;0>toY?(scale=fromY/(fromY-toY),toY=0):toY>=qrcode.height&&(scale=(qrcode.height-1-fromY)/(toY-fromY),toY=qrcode.height-1);toX=JAM.call(Math.floor,Math,[fromX+(toX-fromX)*scale],JAM.policy.p22);result+=JAM.call(this.sizeOfBlackWhiteBlackRun,
this,[fromX,fromY,toX,toY],JAM.policy.p33);return result-1}function v16(fromX,fromY,toX,toY){var steep=JAM.call(Math.abs,Math,[toY-fromY],JAM.policy.p22)>JAM.call(Math.abs,Math,[toX-fromX],JAM.policy.p22);if(steep){var temp=fromX;fromX=fromY;fromY=temp;temp=toX;toX=toY;toY=temp}var temp=JAM.call(Math.abs,Math,[toX-fromX],JAM.policy.p22),dy=JAM.call(Math.abs,Math,[toY-fromY],JAM.policy.p22),error=-temp>>1,v523;v523=fromY<toY?1:-1;var v524,xstep=v524=fromX<toX?1:-1,state=0,x=fromX;v524=fromY;for(var v534=
x!=toX;v534;){var v534=steep?v524:x,v526;v526=steep?x:v524;1==state?this.image[v534+v526*qrcode.width]&&state++:this.image[v534+v526*qrcode.width]||state++;if(3==state)return toY=x-fromX,fromY=v524-fromY,JAM.call(Math.sqrt,Math,[toY*toY+fromY*fromY],JAM.policy.p22);error+=dy;if(0<error){if(v524==toY)break;v524+=v523;error-=temp}x+=xstep;v534=x!=toX}fromX=toX-fromX;fromY=toY-fromY;return JAM.call(Math.sqrt,Math,[fromX*fromX+fromY*fromY],JAM.policy.p22)}this.image=image$$0;this.resultPointCallback=
null;this.sizeOfBlackWhiteBlackRun=v16;this.sizeOfBlackWhiteBlackRunBothWays=v17;this.calculateModuleSizeOneWay=v18;this.calculateModuleSize=v19;this.distance=v20;this.computeDimension=v21;this.findAlignmentInRegion=v22;this.createTransform=v23;this.sampleGrid=v24;this.processFinderPatternInfo=v25;this.detect=v26}
function FormatInformation(formatInfo){function v30(o){var v536=this.errorCorrectionLevel==o.errorCorrectionLevel;v536&&(v536=this.dataMask==o.dataMask);return v536}function v29(){return this.errorCorrectionLevel.ordinal_Renamed_Field<<3|dataMask}function v28(){return this.dataMask}function v27(){return this.errorCorrectionLevel}var v2803=JAM.call(ErrorCorrectionLevel.forBits,ErrorCorrectionLevel,[formatInfo>>3&3],JAM.policy.p22);this.errorCorrectionLevel=v2803;this.dataMask=formatInfo&7;JAM.call(this.__defineGetter__,
this,["ErrorCorrectionLevel",v27],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["DataMask",v28],JAM.policy.p19);this.GetHashCode=v29;this.Equals=v30}
function ErrorCorrectionLevel(ordinal,bits,name){function v33(){return this.ordinal_Renamed_Field}function v32(){return this.name}function v31(){return this.bits}this.ordinal_Renamed_Field=ordinal;this.bits=bits;this.name=name;JAM.call(this.__defineGetter__,this,["Bits",v31],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Name",v32],JAM.policy.p19);this.ordinal=v33}
function BitMatrix(width$$0){function v41(left,top,width,height){var v1514=0>top;v1514||(v1514=0>left);if(v1514)throw"Left and top must be nonnegative";(v1514=1>height)||(v1514=1>width);if(v1514)throw"Height and width must be at least 1";width=left+width;height=top+height;(v1514=height>this.height)||(v1514=width>this.width);if(v1514)throw"The region must fit inside the matrix";for(v1514=top<height;v1514;){for(var v1514=top*this.rowSize,x=left,v545=x<width;v545;){var v545=this.bits,v544=v1514+(x>>
5);v545[v544]|=1<<(x&31);x++;v545=x<width}top++;v1514=top<height}}function v40(){for(var max=this.bits.length,i=0,v549=i<max;v549;)this.bits[i]=0,i++,v549=i<max}function v39(x,y){var offset=y*this.rowSize+(x>>5),v552=this.bits;v552[offset]^=1<<(x&31)}function v38(x,y){var offset=y*this.rowSize+(x>>5),v555=this.bits;v555[offset]|=1<<(x&31)}function v37(x,y){var offset=y*this.rowSize+(x>>5);return 0!=(URShift(this.bits[offset],x&31)&1)}function v36(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";
return this.width}function v35(){return this.height}function v34(){return this.width}var height$$0;height$$0||(height$$0=width$$0);var v1524=1>width$$0;v1524||(v1524=1>height$$0);if(v1524)throw"Both dimensions must be greater than 0";this.width=width$$0;this.height=height$$0;v1524=width$$0>>5;0!=(width$$0&31)&&v1524++;this.rowSize=v1524;this.bits=width$$0=Array(v1524*height$$0);width$$0=0;for(height$$0=width$$0<this.bits.length;height$$0;)this.bits[width$$0]=0,width$$0++,height$$0=width$$0<this.bits.length;
JAM.call(this.__defineGetter__,this,["Width",v34],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Height",v35],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Dimension",v36],JAM.policy.p19);this.get_Renamed=v37;this.set_Renamed=v38;this.flip=v39;this.clear=v40;this.setRegion=v41}
function DataBlock(numDataCodewords,codewords){function v43(){return this.codewords}function v42(){return this.numDataCodewords}this.numDataCodewords=numDataCodewords;this.codewords=codewords;JAM.call(this.__defineGetter__,this,["NumDataCodewords",v42],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Codewords",v43],JAM.policy.p19)}
function BitMatrixParser(bitMatrix){function v47(){var formatInfo=this.readFormatInformation(),version=this.readVersion(),dataMask=JAM.call(DataMask.forReference,DataMask,[formatInfo.DataMask],JAM.policy.p22),formatInfo=this.bitMatrix.Dimension;JAM.call(dataMask.unmaskBitMatrix,dataMask,[this.bitMatrix,formatInfo],JAM.policy.p33);for(var dataMask=version.buildFunctionPattern(),readingUp=!0,result=Array(version.TotalCodewords),resultOffset=0,currentByte=0,bitsRead=0,j=formatInfo-1,v578=0<j;v578;){6==
j&&j--;for(var v578=0,v577=v578<formatInfo;v577;){for(var v577=readingUp?formatInfo-1-v578:v578,col=0,v576=2>col;v576;)JAM.call(dataMask.get_Renamed,dataMask,[j-col,v577],JAM.policy.p33)||(bitsRead++,currentByte<<=1,v576=this.bitMatrix,JAM.call(v576.get_Renamed,v576,[j-col,v577],JAM.policy.p33)&&(currentByte|=1),8==bitsRead&&(bitsRead=resultOffset,resultOffset+=1,result[bitsRead]=currentByte,currentByte=bitsRead=0)),col++,v576=2>col;v578++;v577=v578<formatInfo}readingUp^=1;j-=2;v578=0<j}if(resultOffset!=
version.TotalCodewords)throw"Error readCodewords";return result}function v46(){if(null!=this.parsedVersion)return this.parsedVersion;var dimension=this.bitMatrix.Dimension,provisionalVersion=dimension-17>>2;if(6>=provisionalVersion)return JAM.call(Version.getVersionForNumber,Version,[provisionalVersion],JAM.policy.p22);for(var versionBits=0,provisionalVersion=dimension-11,j=5,v585=0<=j;v585;){for(var v585=dimension-9,v584=v585>=provisionalVersion;v584;)versionBits=JAM.call(this.copyBit,this,[v585,
j,versionBits],JAM.policy.p23),v585--,v584=v585>=provisionalVersion;j--;v585=0<=j}this.parsedVersion=versionBits=JAM.call(Version.decodeVersionInformation,Version,[versionBits],JAM.policy.p22);(versionBits=null!=this.parsedVersion)&&(versionBits=this.parsedVersion.DimensionForVersion==dimension);if(versionBits)return this.parsedVersion;versionBits=0;v585=5;for(j=0<=v585;j;){j=dimension-9;for(v584=j>=provisionalVersion;v584;)versionBits=JAM.call(this.copyBit,this,[v585,j,versionBits],JAM.policy.p23),
j--,v584=j>=provisionalVersion;v585--;j=0<=v585}this.parsedVersion=provisionalVersion=JAM.call(Version.decodeVersionInformation,Version,[versionBits],JAM.policy.p22);(provisionalVersion=null!=this.parsedVersion)&&(provisionalVersion=this.parsedVersion.DimensionForVersion==dimension);if(provisionalVersion)return this.parsedVersion;throw"Error readVersion";}function v45(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var formatInfoBits=0,i=0,v591=6>i;v591;)formatInfoBits=JAM.call(this.copyBit,
this,[i,8,formatInfoBits],JAM.policy.p23),i++,v591=6>i;formatInfoBits=JAM.call(this.copyBit,this,[7,8,formatInfoBits],JAM.policy.p20);formatInfoBits=JAM.call(this.copyBit,this,[8,8,formatInfoBits],JAM.policy.p20);formatInfoBits=JAM.call(this.copyBit,this,[8,7,formatInfoBits],JAM.policy.p20);i=5;for(v591=0<=i;v591;)formatInfoBits=JAM.call(this.copyBit,this,[8,i,formatInfoBits],JAM.policy.p20),i--,v591=0<=i;this.parsedFormatInfo=formatInfoBits=JAM.call(FormatInformation.decodeFormatInformation,FormatInformation,
[formatInfoBits],JAM.policy.p22);if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var v591=this.bitMatrix.Dimension,formatInfoBits=0,iMin=v591-8,i=v591-1,v595=i>=iMin;v595;)formatInfoBits=JAM.call(this.copyBit,this,[i,8,formatInfoBits],JAM.policy.p23),i--,v595=i>=iMin;i=v591-7;for(iMin=i<v591;iMin;)formatInfoBits=JAM.call(this.copyBit,this,[8,i,formatInfoBits],JAM.policy.p20),i++,iMin=i<v591;this.parsedFormatInfo=formatInfoBits=JAM.call(FormatInformation.decodeFormatInformation,FormatInformation,
[formatInfoBits],JAM.policy.p22);if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation";}function v44(i,j,versionBits){var v2269=this.bitMatrix;return i=JAM.call(v2269.get_Renamed,v2269,[i,j],JAM.policy.p33)?versionBits<<1|1:versionBits<<1}var dimension$$0=bitMatrix.Dimension,v1541=21>dimension$$0;v1541||(v1541=1!=(dimension$$0&3));if(v1541)throw"Error BitMatrixParser";this.bitMatrix=bitMatrix;this.parsedFormatInfo=this.parsedVersion=null;this.copyBit=v44;this.readFormatInformation=
v45;this.readVersion=v46;this.readCodewords=v47}function DataMask000(){function v49(i,j){return 0==(i+j&1)}function v48(bits,dimension){for(var i=0,v603=i<dimension;v603;){for(var v603=0,v602=v603<dimension;v602;)JAM.call(this.isMasked,this,[i,v603],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v603,i],JAM.policy.p23),v603++,v602=v603<dimension;i++;v603=i<dimension}}this.unmaskBitMatrix=v48;this.isMasked=v49}
function DataMask001(){function v51(i,j){return 0==(i&1)}function v50(bits,dimension){for(var i=0,v607=i<dimension;v607;){for(var v607=0,v606=v607<dimension;v606;)JAM.call(this.isMasked,this,[i,v607],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v607,i],JAM.policy.p23),v607++,v606=v607<dimension;i++;v607=i<dimension}}this.unmaskBitMatrix=v50;this.isMasked=v51}
function DataMask010(){function v53(i,j){return 0==j%3}function v52(bits,dimension){for(var i=0,v611=i<dimension;v611;){for(var v611=0,v610=v611<dimension;v610;)JAM.call(this.isMasked,this,[i,v611],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v611,i],JAM.policy.p23),v611++,v610=v611<dimension;i++;v611=i<dimension}}this.unmaskBitMatrix=v52;this.isMasked=v53}
function DataMask011(){function v55(i,j){return 0==(i+j)%3}function v54(bits,dimension){for(var i=0,v615=i<dimension;v615;){for(var v615=0,v614=v615<dimension;v614;)JAM.call(this.isMasked,this,[i,v615],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v615,i],JAM.policy.p23),v615++,v614=v615<dimension;i++;v615=i<dimension}}this.unmaskBitMatrix=v54;this.isMasked=v55}
function DataMask100(){function v57(i,j){return 0==(URShift(i,1)+j/3&1)}function v56(bits,dimension){for(var i=0,v619=i<dimension;v619;){for(var v619=0,v618=v619<dimension;v618;)JAM.call(this.isMasked,this,[i,v619],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v619,i],JAM.policy.p23),v619++,v618=v619<dimension;i++;v619=i<dimension}}this.unmaskBitMatrix=v56;this.isMasked=v57}
function DataMask101(){function v59(i,j){var temp=i*j;return 0==(temp&1)+temp%3}function v58(bits,dimension){for(var i=0,v623=i<dimension;v623;){for(var v623=0,v622=v623<dimension;v622;)JAM.call(this.isMasked,this,[i,v623],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v623,i],JAM.policy.p23),v623++,v622=v623<dimension;i++;v623=i<dimension}}this.unmaskBitMatrix=v58;this.isMasked=v59}
function DataMask110(){function v61(i,j){var temp=i*j;return 0==((temp&1)+temp%3&1)}function v60(bits,dimension){for(var i=0,v627=i<dimension;v627;){for(var v627=0,v626=v627<dimension;v626;)JAM.call(this.isMasked,this,[i,v627],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v627,i],JAM.policy.p23),v627++,v626=v627<dimension;i++;v627=i<dimension}}this.unmaskBitMatrix=v60;this.isMasked=v61}
function DataMask111(){function v63(i,j){return 0==((i+j&1)+i*j%3&1)}function v62(bits,dimension){for(var i=0,v631=i<dimension;v631;){for(var v631=0,v630=v631<dimension;v630;)JAM.call(this.isMasked,this,[i,v631],JAM.policy.p33)&&JAM.call(bits.flip,bits,[v631,i],JAM.policy.p23),v631++,v630=v631<dimension;i++;v631=i<dimension}}this.unmaskBitMatrix=v62;this.isMasked=v63}
function ReedSolomonDecoder(){function v67(errorEvaluator,errorLocations,dataMatrix){for(var s=errorLocations.length,result=Array(s),i=0,v643=i<s;v643;){for(var v643=this.field,v643=JAM.call(v643.inverse,v643,[errorLocations[i]],JAM.policy.p22),denominator=1,j=0,v637=j<s;v637;){if(i!=j)var v2278=v637=this.field,denominator=JAM.call(v637.multiply,v637,[denominator,JAM.call(GF256.addOrSubtract,GF256,[1,JAM.call(v2278.multiply,v2278,[errorLocations[j],v643],JAM.policy.p33)],JAM.policy.p20)],JAM.policy.p33);
j++;v637=j<s}j=this.field;v637=JAM.call(errorEvaluator.evaluateAt,errorEvaluator,[v643],JAM.policy.p22);v2278=this.field;denominator=JAM.call(j.multiply,j,[v637,JAM.call(v2278.inverse,v2278,[denominator],JAM.policy.p22)],JAM.policy.p33);result[i]=denominator;dataMatrix&&(denominator=this.field,v643=JAM.call(denominator.multiply,denominator,[result[i],v643],JAM.policy.p33),result[i]=v643);i++;v643=i<s}return result}function v66(errorLocator){var numErrors=errorLocator.Degree;if(1==numErrors)return Array(JAM.call(errorLocator.getCoefficient,
errorLocator,[1],JAM.policy.p18));var result=Array(numErrors),e=0,i=1,v1551=256>i;for(v1551&&(v1551=e<numErrors);v1551;)0==JAM.call(errorLocator.evaluateAt,errorLocator,[i],JAM.policy.p22)&&(v1551=this.field,v1551=JAM.call(v1551.inverse,v1551,[i],JAM.policy.p22),result[e]=v1551,e++),i++,(v1551=256>i)&&(v1551=e<numErrors);if(e!=numErrors)throw"Error locator degree does not match number of roots";return result}function v65(a,b,R){if(a.Degree<b.Degree){var temp=a;a=b;b=temp}for(var temp=this.field.One,
s=this.field.Zero,tLast=this.field.Zero,t=this.field.One,v668=b.Degree>=JAM.call(Math.floor,Math,[R/2],JAM.policy.p22);v668;){var rLastLast=a,sLastLast=temp,v668=tLast;a=b;temp=s;tLast=t;if(a.Zero)throw"r_{i-1} was zero";b=rLastLast;t=this.field.Zero;s=JAM.call(a.getCoefficient,a,[a.Degree],JAM.policy.p22);rLastLast=this.field;s=JAM.call(rLastLast.inverse,rLastLast,[s],JAM.policy.p22);for((rLastLast=b.Degree>=a.Degree)&&(rLastLast=!b.Zero);rLastLast;){var rLastLast=b.Degree-a.Degree,v661=this.field,
v661=JAM.call(v661.multiply,v661,[JAM.call(b.getCoefficient,b,[b.Degree],JAM.policy.p22),s],JAM.policy.p33),v1560=this.field,t=JAM.call(t.addOrSubtract,t,[JAM.call(v1560.buildMonomial,v1560,[rLastLast,v661],JAM.policy.p33)],JAM.policy.p22);b=JAM.call(b.addOrSubtract,b,[JAM.call(a.multiplyByMonomial,a,[rLastLast,v661],JAM.policy.p33)],JAM.policy.p22);(rLastLast=b.Degree>=a.Degree)&&(rLastLast=!b.Zero)}s=JAM.call(t.multiply1,t,[temp],JAM.policy.p22);s=JAM.call(s.addOrSubtract,s,[sLastLast],JAM.policy.p22);
sLastLast=JAM.call(t.multiply1,t,[tLast],JAM.policy.p22);t=JAM.call(sLastLast.addOrSubtract,sLastLast,[v668],JAM.policy.p22);v668=b.Degree>=JAM.call(Math.floor,Math,[R/2],JAM.policy.p22)}R=JAM.call(t.getCoefficient,t,[0],JAM.policy.p18);if(0==R)throw"ReedSolomonException sigmaTilde(0) was zero";a=this.field;R=JAM.call(a.inverse,a,[R],JAM.policy.p22);a=JAM.call(t.multiply2,t,[R],JAM.policy.p22);b=JAM.call(b.multiply2,b,[R],JAM.policy.p22);return[a,b]}function v64(received,twoS){for(var poly=new GF256Poly(this.field,
received),syndromeCoefficients=Array(twoS),i=0,v672=i<syndromeCoefficients.length;v672;)syndromeCoefficients[i]=0,i++,v672=i<syndromeCoefficients.length;for(var v672=!1,noError=!0,i=0,v676=i<twoS;v676;){var v676=this.field,v2288;v2288=v672?i+1:i;v676=JAM.call(poly.evaluateAt,poly,[JAM.call(v676.exp,v676,[v2288],JAM.policy.p22)],JAM.policy.p22);syndromeCoefficients[syndromeCoefficients.length-1-i]=v676;0!=v676&&(noError=!1);i++;v676=i<twoS}if(!noError)for(i=new GF256Poly(this.field,syndromeCoefficients),
poly=this.field,poly=JAM.call(this.runEuclideanAlgorithm,this,[JAM.call(poly.buildMonomial,poly,[twoS,1],JAM.policy.p25),i,twoS],JAM.policy.p33),i=poly[0],syndromeCoefficients=poly[1],poly=JAM.call(this.findErrorLocations,this,[i],JAM.policy.p22),v672=JAM.call(this.findErrorMagnitudes,this,[syndromeCoefficients,poly,v672],JAM.policy.p33),i=0,syndromeCoefficients=i<poly.length;syndromeCoefficients;){syndromeCoefficients=received.length-1;noError=this.field;syndromeCoefficients-=JAM.call(noError.log,
noError,[poly[i]],JAM.policy.p22);if(0>syndromeCoefficients)throw"ReedSolomonException Bad error location";noError=JAM.call(GF256.addOrSubtract,GF256,[received[syndromeCoefficients],v672[i]],JAM.policy.p33);received[syndromeCoefficients]=noError;i++;syndromeCoefficients=i<poly.length}}var field=GF256.QR_CODE_FIELD;this.field=field;this.decode=v64;this.runEuclideanAlgorithm=v65;this.findErrorLocations=v66;this.findErrorMagnitudes=v67}
function GF256Poly(field,coefficients){function v77(other){if(this.field!=other.field)throw"GF256Polys do not have same GF256 field";if(other.Zero)throw"Divide by 0";var quotient=this.field.Zero,remainder=this,denominatorLeadingTerm=JAM.call(other.getCoefficient,other,[other.Degree],JAM.policy.p22),v689=this.field,denominatorLeadingTerm=JAM.call(v689.inverse,v689,[denominatorLeadingTerm],JAM.policy.p22);for((v689=remainder.Degree>=other.Degree)&&(v689=!remainder.Zero);v689;){var v689=remainder.Degree-
other.Degree,v692=this.field,scale=JAM.call(v692.multiply,v692,[JAM.call(remainder.getCoefficient,remainder,[remainder.Degree],JAM.policy.p22),denominatorLeadingTerm],JAM.policy.p33),v692=JAM.call(other.multiplyByMonomial,other,[v689,scale],JAM.policy.p33),v694=this.field,v689=JAM.call(v694.buildMonomial,v694,[v689,scale],JAM.policy.p33),quotient=JAM.call(quotient.addOrSubtract,quotient,[v689],JAM.policy.p22),remainder=JAM.call(remainder.addOrSubtract,remainder,[v692],JAM.policy.p22);(v689=remainder.Degree>=
other.Degree)&&(v689=!remainder.Zero)}return[quotient,remainder]}function v76(degree,coefficient){if(0>degree)throw"System.ArgumentException";if(0==coefficient)return this.field.Zero;for(var size=this.coefficients.length,product=Array(size+degree),i=0,v701=i<product.length;v701;)product[i]=0,i++,v701=i<product.length;i=0;for(v701=i<size;v701;)v701=this.field,v701=JAM.call(v701.multiply,v701,[this.coefficients[i],coefficient],JAM.policy.p33),product[i]=v701,i++,v701=i<size;return new GF256Poly(this.field,
product)}function v75(scalar){if(0==scalar)return this.field.Zero;if(1==scalar)return this;for(var size=this.coefficients.length,product=Array(size),i=0,v712=i<size;v712;)v712=this.field,v712=JAM.call(v712.multiply,v712,[this.coefficients[i],scalar],JAM.policy.p33),product[i]=v712,i++,v712=i<size;return new GF256Poly(this.field,product)}function v74(other){if(this.field!=other.field)throw"GF256Polys do not have same GF256 field";var v1586=this.Zero;v1586||(v1586=other.Zero);if(v1586)return this.field.Zero;
var v1586=this.coefficients,aLength=v1586.length;other=other.coefficients;for(var bLength=other.length,product=Array(aLength+bLength-1),i=0,v720=i<aLength;v720;){for(var v720=v1586[i],j=0,v719=j<bLength;v719;){var v719=i+j,v1588=product[i+j],v2298=this.field,v1588=JAM.call(GF256.addOrSubtract,GF256,[v1588,JAM.call(v2298.multiply,v2298,[v720,other[j]],JAM.policy.p33)],JAM.policy.p33);product[v719]=v1588;j++;v719=j<bLength}i++;v720=i<aLength}return new GF256Poly(this.field,product)}function v73(other){if(this.field!=
other.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return other;if(other.Zero)return this;var smallerCoefficients=this.coefficients;other=other.coefficients;if(smallerCoefficients.length>other.length){var temp=smallerCoefficients,smallerCoefficients=other;other=temp}for(var temp=Array(other.length),lengthDiff=other.length-smallerCoefficients.length,ci=0,v729=ci<lengthDiff;v729;)temp[ci]=other[ci],ci++,v729=ci<lengthDiff;ci=lengthDiff;for(v729=ci<other.length;v729;)v729=JAM.call(GF256.addOrSubtract,
GF256,[smallerCoefficients[ci-lengthDiff],other[ci]],JAM.policy.p33),temp[ci]=v729,ci++,v729=ci<other.length;return new GF256Poly(field,temp)}function v72(a){if(0==a)return JAM.call(this.getCoefficient,this,[0],JAM.policy.p18);var size=this.coefficients.length;if(1==a){for(var i=a=0,v736=i<size;v736;)a=JAM.call(GF256.addOrSubtract,GF256,[a,this.coefficients[i]],JAM.policy.p33),i++,v736=i<size;return a}for(var v736=this.coefficients[0],i=1,v741=i<size;v741;)v741=this.field,v736=JAM.call(GF256.addOrSubtract,
GF256,[JAM.call(v741.multiply,v741,[a,v736],JAM.policy.p33),this.coefficients[i]],JAM.policy.p33),i++,v741=i<size;return v736}function v71(degree){return this.coefficients[this.coefficients.length-1-degree]}function v70(){return this.coefficients}function v69(){return this.coefficients.length-1}function v68(){return 0==this.coefficients[0]}var v1603=null==coefficients;v1603||(v1603=0==coefficients.length);if(v1603)throw"System.ArgumentException";this.field=field;var coefficientsLength=coefficients.length;
(v1603=1<coefficientsLength)&&(v1603=0==coefficients[0]);if(v1603){var v1603=1,v1605=v1603<coefficientsLength;for(v1605&&(v1605=0==coefficients[v1603]);v1605;)v1603++,(v1605=v1603<coefficientsLength)&&(v1605=0==coefficients[v1603]);if(v1603==coefficientsLength)this.coefficients=field.Zero.coefficients;else{this.coefficients=coefficientsLength=Array(coefficientsLength-v1603);coefficientsLength=0;for(v1605=coefficientsLength<this.coefficients.length;v1605;)this.coefficients[coefficientsLength]=0,coefficientsLength++,
v1605=coefficientsLength<this.coefficients.length;coefficientsLength=0;for(v1605=coefficientsLength<this.coefficients.length;v1605;)this.coefficients[coefficientsLength]=coefficients[v1603+coefficientsLength],coefficientsLength++,v1605=coefficientsLength<this.coefficients.length}}else this.coefficients=coefficients;JAM.call(this.__defineGetter__,this,["Zero",v68],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Degree",v69],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Coefficients",
v70],JAM.policy.p19);this.getCoefficient=v71;this.evaluateAt=v72;this.addOrSubtract=v73;this.multiply1=v74;this.multiply2=v75;this.multiplyByMonomial=v76;this.divide=v77}
function GF256(primitive){function v84(a,b){var v1612=0==a;v1612||(v1612=0==b);return v1612?0:1==a?b:1==b?a:this.expTable[(this.logTable[a]+this.logTable[b])%255]}function v83(a){if(0==a)throw"System.ArithmeticException";return this.expTable[255-this.logTable[a]]}function v82(a){if(0==a)throw"System.ArgumentException";return this.logTable[a]}function v81(a){return this.expTable[a]}function v80(degree,coefficient){if(0>degree)throw"System.ArgumentException";if(0==coefficient)return zero;for(var coefficients=
Array(degree+1),i=0,v770=i<coefficients.length;v770;)coefficients[i]=0,i++,v770=i<coefficients.length;coefficients[0]=coefficient;return new GF256Poly(this,coefficients)}function v79(){return this.one}function v78(){return this.zero}var v2818=Array(256);this.expTable=v2818;this.logTable=v2818=Array(256);for(var x=1,v2818=0,v773=256>v2818;v773;)this.expTable[v2818]=x,x<<=1,256<=x&&(x^=primitive),v2818++,v773=256>v2818;v2818=0;for(primitive=255>v2818;primitive;){primitive=this.logTable;x=this.expTable[v2818];
introspect(JAM.policy.p6)primitive[x]=v2818;v2818++;primitive=255>v2818}v2818=Array(1);v2818[0]=0;this.zero=v2818=new GF256Poly(this,Array(v2818));v2818=Array(1);v2818[0]=1;this.one=v2818=new GF256Poly(this,Array(v2818));JAM.call(this.__defineGetter__,this,["Zero",v78],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["One",v79],JAM.policy.p19);this.buildMonomial=v80;this.exp=v81;this.log=v82;this.inverse=v83;this.multiply=v84}
function URShift(number,bits){return 0<=number?number>>bits:(number>>bits)+(2<<~bits)}
function FinderPattern(posX,posY,estimatedModuleSize){function v90(moduleSize,i,j){(i=JAM.call(Math.abs,Math,[i-this.y],JAM.policy.p22)<=moduleSize)&&(i=JAM.call(Math.abs,Math,[j-this.x],JAM.policy.p22)<=moduleSize);return i?(moduleSize=JAM.call(Math.abs,Math,[moduleSize-this.estimatedModuleSize],JAM.policy.p22),(j=1>=moduleSize)||(j=1>=moduleSize/this.estimatedModuleSize),j):!1}function v89(){this.count++}function v88(){return this.y}function v87(){return this.x}function v86(){return this.count}
function v85(){return this.estimatedModuleSize}this.x=posX;this.y=posY;this.count=1;this.estimatedModuleSize=estimatedModuleSize;JAM.call(this.__defineGetter__,this,["EstimatedModuleSize",v85],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Count",v86],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["X",v87],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Y",v88],JAM.policy.p19);this.incrementCount=v89;this.aboutEquals=v90}
function FinderPatternInfo(patternCenters){function v93(){return this.topRight}function v92(){return this.topLeft}function v91(){return this.bottomLeft}this.bottomLeft=patternCenters[0];this.topLeft=patternCenters[1];this.topRight=patternCenters[2];JAM.call(this.__defineGetter__,this,["BottomLeft",v91],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["TopLeft",v92],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["TopRight",v93],JAM.policy.p19)}
function FinderPatternFinder(){function v104(image){var tryHarder=!1;this.image=image;var maxI=qrcode.height,maxJ=qrcode.width,iSkip=JAM.call(Math.floor,Math,[3*maxI/(4*MAX_MODULES)],JAM.policy.p22),v1625=iSkip<MIN_SKIP;v1625||(v1625=tryHarder);v1625&&(iSkip=MIN_SKIP);var tryHarder=!1,v1625=Array(5),i=iSkip-1,v1626=i<maxI;for(v1626&&(v1626=!tryHarder);v1626;){v1625[0]=0;v1625[1]=0;v1625[2]=0;v1625[3]=0;for(var currentState=v1625[4]=0,v1626=0,v795=v1626<maxJ;v795;){if(image[v1626+i*qrcode.width])1==
(currentState&1)&&currentState++,v1625[currentState]++;else if(0==(currentState&1))if(4==currentState)if(JAM.call(this.foundPatternCross,this,[v1625],JAM.policy.p22)){if(currentState=JAM.call(this.handlePossibleCenter,this,[v1625,i,v1626],JAM.policy.p33))iSkip=2,this.hasSkipped?tryHarder=this.haveMultiplyConfirmedCenters():(currentState=this.findRowSkip(),currentState>v1625[2]&&(i+=currentState-v1625[2]-iSkip,v1626=maxJ-1));else{(currentState=v1626<maxJ)&&(currentState=!image[v1626+i*qrcode.width]);
do v1626++,(currentState=v1626<maxJ)&&(currentState=!image[v1626+i*qrcode.width]);while(currentState);v1626--}currentState=0;v1625[0]=0;v1625[1]=0;v1625[2]=0;v1625[3]=0;v1625[4]=0}else v1625[0]=v1625[2],v1625[1]=v1625[3],v1625[2]=v1625[4],v1625[3]=1,v1625[4]=0,currentState=3;else introspect(JAM.policy.p6){v1625[++currentState]++}else v1625[currentState]++;v1626++;v795=v1626<maxJ}JAM.call(this.foundPatternCross,this,[v1625],JAM.policy.p22)&&(currentState=JAM.call(this.handlePossibleCenter,this,[v1625,
i,maxJ],JAM.policy.p33))&&(iSkip=v1625[0],this.hasSkipped&&(tryHarder=haveMultiplyConfirmedCenters()));i+=iSkip;(v1626=i<maxI)&&(v1626=!tryHarder)}image=this.selectBestPatterns();JAM.call(qrcode.orderBestPatterns,qrcode,[image],JAM.policy.p22);return new FinderPatternInfo(image)}function v103(){for(var confirmedCount=0,totalModuleSize=0,max=this.possibleCenters.length,i=0,v802=i<max;v802;)v802=this.possibleCenters[i],v802.Count>=CENTER_QUORUM&&(confirmedCount++,totalModuleSize+=v802.EstimatedModuleSize),
i++,v802=i<max;if(3>confirmedCount)return!1;for(var confirmedCount=totalModuleSize/max,totalDeviation=0,i=0,v802=i<max;v802;)v802=this.possibleCenters[i],totalDeviation+=JAM.call(Math.abs,Math,[v802.EstimatedModuleSize-confirmedCount],JAM.policy.p22),i++,v802=i<max;return totalDeviation<=.05*totalModuleSize}function v102(){var max=this.possibleCenters.length;if(1>=max)return 0;for(var firstConfirmedCenter=null,i=0,v813=i<max;v813;){v813=this.possibleCenters[i];if(v813.Count>=CENTER_QUORUM)if(null==
firstConfirmedCenter)firstConfirmedCenter=v813;else return this.hasSkipped=!0,JAM.call(Math.floor,Math,[(JAM.call(Math.abs,Math,[firstConfirmedCenter.X-v813.X],JAM.policy.p22)-JAM.call(Math.abs,Math,[firstConfirmedCenter.Y-v813.Y],JAM.policy.p22))/2],JAM.policy.p22);i++;v813=i<max}return 0}function v101(){function v100(a,b){return a.count>b.count?-1:a.count<b.count?1:0}var startSize=this.possibleCenters.length;if(3>startSize)throw"Couldn't find enough finder patterns";if(3<startSize){for(var totalModuleSize=
0,i=0,v818=i<startSize;v818;)totalModuleSize+=this.possibleCenters[i].EstimatedModuleSize,i++,v818=i<startSize;startSize=totalModuleSize/startSize;i=0;for((totalModuleSize=i<this.possibleCenters.length)&&(totalModuleSize=3<this.possibleCenters.length);totalModuleSize;)totalModuleSize=this.possibleCenters[i],JAM.call(Math.abs,Math,[totalModuleSize.EstimatedModuleSize-startSize],JAM.policy.p22)>.2*startSize&&(totalModuleSize=this.possibleCenters,JAM.call(totalModuleSize.remove,totalModuleSize,[i],JAM.policy.p24),
i--),i++,(totalModuleSize=i<this.possibleCenters.length)&&(totalModuleSize=3<this.possibleCenters.length)}3<this.possibleCenters.length&&(i=this.possibleCenters,JAM.call(i.sort,i,[v100],JAM.policy.p22));return[this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2]]}function v99(stateCount,i,j){var stateCountTotal=stateCount[0]+stateCount[1]+stateCount[2]+stateCount[3]+stateCount[4];j=JAM.call(this.centerFromEnd,this,[stateCount,j],JAM.policy.p33);i=JAM.call(this.crossCheckVertical,
this,[i,JAM.call(Math.floor,Math,[j],JAM.policy.p22),stateCount[2],stateCountTotal],JAM.policy.p33);if(!isNaN(i)&&(j=JAM.call(this.crossCheckHorizontal,this,[JAM.call(Math.floor,Math,[j],JAM.policy.p22),JAM.call(Math.floor,Math,[i],JAM.policy.p22),stateCount[2],stateCountTotal],JAM.policy.p23),!isNaN(j))){stateCount=stateCountTotal/7;for(var stateCountTotal=!1,max=this.possibleCenters.length,index=0,v839=index<max;v839;){v839=this.possibleCenters[index];if(JAM.call(v839.aboutEquals,v839,[stateCount,
i,j],JAM.policy.p33)){v839.incrementCount();stateCountTotal=!0;break}index++;v839=index<max}stateCountTotal||(j=new FinderPattern(j,i,stateCount),i=this.possibleCenters,JAM.call(i.push,i,[j],JAM.policy.p22),null!=this.resultPointCallback&&(i=this.resultPointCallback,JAM.call(i.foundPossibleResultPoint,i,[j],JAM.policy.p22)));return!0}return!1}function v98(startJ,centerI,maxCount,originalStateCountTotal){var image=this.image,maxJ=qrcode.width,stateCount=this.CrossCheckStateCount,j=startJ,v1658=0<=
j;for(v1658&&(v1658=image[j+centerI*qrcode.width]);v1658;)stateCount[2]++,j--,(v1658=0<=j)&&(v1658=image[j+centerI*qrcode.width]);if(0>j)return NaN;(v1658=0<=j)&&(v1658=!image[j+centerI*qrcode.width]);for(v1658&&(v1658=stateCount[1]<=maxCount);v1658;)stateCount[1]++,j--,(v1658=0<=j)&&(v1658=!image[j+centerI*qrcode.width]),v1658&&(v1658=stateCount[1]<=maxCount);(v1658=0>j)||(v1658=stateCount[1]>maxCount);if(v1658)return NaN;(v1658=0<=j)&&(v1658=image[j+centerI*qrcode.width]);for(v1658&&(v1658=stateCount[0]<=
maxCount);v1658;)stateCount[0]++,j--,(v1658=0<=j)&&(v1658=image[j+centerI*qrcode.width]),v1658&&(v1658=stateCount[0]<=maxCount);if(stateCount[0]>maxCount)return NaN;j=startJ+1;for((startJ=j<maxJ)&&(startJ=image[j+centerI*qrcode.width]);startJ;)stateCount[2]++,j++,(startJ=j<maxJ)&&(startJ=image[j+centerI*qrcode.width]);if(j==maxJ)return NaN;(startJ=j<maxJ)&&(startJ=!image[j+centerI*qrcode.width]);for(startJ&&(startJ=stateCount[3]<maxCount);startJ;)stateCount[3]++,j++,(startJ=j<maxJ)&&(startJ=!image[j+
centerI*qrcode.width]),startJ&&(startJ=stateCount[3]<maxCount);(startJ=j==maxJ)||(startJ=stateCount[3]>=maxCount);if(startJ)return NaN;(startJ=j<maxJ)&&(startJ=image[j+centerI*qrcode.width]);for(startJ&&(startJ=stateCount[4]<maxCount);startJ;)stateCount[4]++,j++,(startJ=j<maxJ)&&(startJ=image[j+centerI*qrcode.width]),startJ&&(startJ=stateCount[4]<maxCount);if(stateCount[4]>=maxCount)return NaN;centerI=stateCount[0]+stateCount[1]+stateCount[2]+stateCount[3]+stateCount[4];return 5*JAM.call(Math.abs,
Math,[centerI-originalStateCountTotal],JAM.policy.p22)>=originalStateCountTotal?NaN:originalStateCountTotal=JAM.call(this.foundPatternCross,this,[stateCount],JAM.policy.p22)?JAM.call(this.centerFromEnd,this,[stateCount,j],JAM.policy.p33):NaN}function v97(startI,centerJ,maxCount,originalStateCountTotal){var image=this.image,maxI=qrcode.height,stateCount=this.CrossCheckStateCount,i=startI,v1678=0<=i;for(v1678&&(v1678=image[centerJ+i*qrcode.width]);v1678;)stateCount[2]++,i--,(v1678=0<=i)&&(v1678=image[centerJ+
i*qrcode.width]);if(0>i)return NaN;(v1678=0<=i)&&(v1678=!image[centerJ+i*qrcode.width]);for(v1678&&(v1678=stateCount[1]<=maxCount);v1678;)stateCount[1]++,i--,(v1678=0<=i)&&(v1678=!image[centerJ+i*qrcode.width]),v1678&&(v1678=stateCount[1]<=maxCount);(v1678=0>i)||(v1678=stateCount[1]>maxCount);if(v1678)return NaN;(v1678=0<=i)&&(v1678=image[centerJ+i*qrcode.width]);for(v1678&&(v1678=stateCount[0]<=maxCount);v1678;)stateCount[0]++,i--,(v1678=0<=i)&&(v1678=image[centerJ+i*qrcode.width]),v1678&&(v1678=
stateCount[0]<=maxCount);if(stateCount[0]>maxCount)return NaN;i=startI+1;for((startI=i<maxI)&&(startI=image[centerJ+i*qrcode.width]);startI;)stateCount[2]++,i++,(startI=i<maxI)&&(startI=image[centerJ+i*qrcode.width]);if(i==maxI)return NaN;(startI=i<maxI)&&(startI=!image[centerJ+i*qrcode.width]);for(startI&&(startI=stateCount[3]<maxCount);startI;)stateCount[3]++,i++,(startI=i<maxI)&&(startI=!image[centerJ+i*qrcode.width]),startI&&(startI=stateCount[3]<maxCount);(startI=i==maxI)||(startI=stateCount[3]>=
maxCount);if(startI)return NaN;(startI=i<maxI)&&(startI=image[centerJ+i*qrcode.width]);for(startI&&(startI=stateCount[4]<maxCount);startI;)stateCount[4]++,i++,(startI=i<maxI)&&(startI=image[centerJ+i*qrcode.width]),startI&&(startI=stateCount[4]<maxCount);if(stateCount[4]>=maxCount)return NaN;centerJ=stateCount[0]+stateCount[1]+stateCount[2]+stateCount[3]+stateCount[4];return 5*JAM.call(Math.abs,Math,[centerJ-originalStateCountTotal],JAM.policy.p22)>=2*originalStateCountTotal?NaN:originalStateCountTotal=
JAM.call(this.foundPatternCross,this,[stateCount],JAM.policy.p22)?JAM.call(this.centerFromEnd,this,[stateCount,i],JAM.policy.p33):NaN}function v96(stateCount,end){return end-stateCount[4]-stateCount[3]-stateCount[2]/2}function v95(stateCount){for(var totalModuleSize=0,i=0,v881=5>i;v881;){v881=stateCount[i];if(0==v881)return!1;totalModuleSize+=v881;i++;v881=5>i}if(7>totalModuleSize)return!1;totalModuleSize=JAM.call(Math.floor,Math,[(totalModuleSize<<INTEGER_MATH_SHIFT)/7],JAM.policy.p22);i=JAM.call(Math.floor,
Math,[totalModuleSize/2],JAM.policy.p22);(v881=JAM.call(Math.abs,Math,[totalModuleSize-(stateCount[0]<<INTEGER_MATH_SHIFT)],JAM.policy.p22)<i)&&(v881=JAM.call(Math.abs,Math,[totalModuleSize-(stateCount[1]<<INTEGER_MATH_SHIFT)],JAM.policy.p22)<i);v881&&(v881=JAM.call(Math.abs,Math,[3*totalModuleSize-(stateCount[2]<<INTEGER_MATH_SHIFT)],JAM.policy.p22)<3*i);v881&&(v881=JAM.call(Math.abs,Math,[totalModuleSize-(stateCount[3]<<INTEGER_MATH_SHIFT)],JAM.policy.p22)<i);v881&&(v881=JAM.call(Math.abs,Math,
[totalModuleSize-(stateCount[4]<<INTEGER_MATH_SHIFT)],JAM.policy.p22)<i);return v881}function v94(){this.crossCheckStateCount[0]=0;this.crossCheckStateCount[1]=0;this.crossCheckStateCount[2]=0;this.crossCheckStateCount[3]=0;this.crossCheckStateCount[4]=0;return this.crossCheckStateCount}this.image=null;this.possibleCenters=[];this.hasSkipped=!1;var v2822=[0,0,0,0,0];this.crossCheckStateCount=v2822;this.resultPointCallback=null;JAM.call(this.__defineGetter__,this,["CrossCheckStateCount",v94],JAM.policy.p19);
this.foundPatternCross=v95;this.centerFromEnd=v96;this.crossCheckVertical=v97;this.crossCheckHorizontal=v98;this.handlePossibleCenter=v99;this.selectBestPatterns=v101;this.findRowSkip=v102;this.haveMultiplyConfirmedCenters=v103;this.findFinderPattern=v104}
function AlignmentPattern(posX,posY,estimatedModuleSize){function v110(moduleSize,i,j){(i=JAM.call(Math.abs,Math,[i-this.y],JAM.policy.p22)<=moduleSize)&&(i=JAM.call(Math.abs,Math,[j-this.x],JAM.policy.p22)<=moduleSize);return i?(moduleSize=JAM.call(Math.abs,Math,[moduleSize-this.estimatedModuleSize],JAM.policy.p22),(j=1>=moduleSize)||(j=1>=moduleSize/this.estimatedModuleSize),j):!1}function v109(){this.count++}function v108(){return JAM.call(Math.floor,Math,[this.y],JAM.policy.p22)}function v107(){return JAM.call(Math.floor,
Math,[this.x],JAM.policy.p22)}function v106(){return this.count}function v105(){return this.estimatedModuleSize}this.x=posX;this.y=posY;this.count=1;this.estimatedModuleSize=estimatedModuleSize;JAM.call(this.__defineGetter__,this,["EstimatedModuleSize",v105],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Count",v106],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["X",v107],JAM.policy.p19);JAM.call(this.__defineGetter__,this,["Y",v108],JAM.policy.p19);this.incrementCount=v109;this.aboutEquals=
v110}
function AlignmentPatternFinder(image$$0,startX,startY,width,height$$0,moduleSize$$0,resultPointCallback){function v115(){for(var startX=this.startX,height=this.height,maxJ=startX+width,middleI=startY+(height>>1),stateCount=[0,0,0],iGen=0,v908=iGen<height;v908;){v908=0==(iGen&1)?iGen+1>>1:-(iGen+1>>1);v908=middleI+v908;stateCount[0]=0;stateCount[1]=0;stateCount[2]=0;var j=startX,v1710=j<maxJ;for(v1710&&(v1710=!image$$0[j+qrcode.width*v908]);v1710;)j++,(v1710=j<maxJ)&&(v1710=!image$$0[j+qrcode.width*v908]);
for(var v1710=0,v905=j<maxJ;v905;){if(image$$0[j+v908*qrcode.width])if(1==v1710)stateCount[v1710]++;else if(2==v1710){if(JAM.call(this.foundPatternCross,this,[stateCount],JAM.policy.p22)&&(v1710=JAM.call(this.handlePossibleCenter,this,[stateCount,v908,j],JAM.policy.p33),null!=v1710))return v1710;stateCount[0]=stateCount[2];stateCount[1]=1;stateCount[2]=0;v1710=1}else introspect(JAM.policy.p6){stateCount[++v1710]++}else 1==v1710&&v1710++,stateCount[v1710]++;j++;v905=j<maxJ}if(JAM.call(this.foundPatternCross,
this,[stateCount],JAM.policy.p22)&&(v1710=JAM.call(this.handlePossibleCenter,this,[stateCount,v908,maxJ],JAM.policy.p33),null!=v1710))return v1710;iGen++;v908=iGen<height}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns";}function v114(stateCount,i,j){var stateCountTotal=stateCount[0]+stateCount[1]+stateCount[2];j=JAM.call(this.centerFromEnd,this,[stateCount,j],JAM.policy.p33);i=JAM.call(this.crossCheckVertical,this,[i,JAM.call(Math.floor,
Math,[j],JAM.policy.p22),2*stateCount[1],stateCountTotal],JAM.policy.p33);if(!isNaN(i)){stateCount=(stateCount[0]+stateCount[1]+stateCount[2])/3;for(var stateCountTotal=this.possibleCenters.length,index=0,v919=index<stateCountTotal;v919;){v919=this.possibleCenters[index];if(JAM.call(v919.aboutEquals,v919,[stateCount,i,j],JAM.policy.p33))return new AlignmentPattern(j,i,stateCount);index++;v919=index<stateCountTotal}j=new AlignmentPattern(j,i,stateCount);i=this.possibleCenters;JAM.call(i.push,i,[j],
JAM.policy.p22);null!=this.resultPointCallback&&(i=this.resultPointCallback,JAM.call(i.foundPossibleResultPoint,i,[j],JAM.policy.p22))}return null}function v113(startI,centerJ,maxCount,originalStateCountTotal){var image=this.image,maxI=qrcode.height,stateCount=this.crossCheckStateCount;stateCount[0]=0;stateCount[1]=0;stateCount[2]=0;var i=startI,v2404=0<=i;v2404&&(v2404=image[centerJ+i*qrcode.width]);for(v2404&&(v2404=stateCount[1]<=maxCount);v2404;)stateCount[1]++,i--,(v2404=0<=i)&&(v2404=image[centerJ+
i*qrcode.width]),v2404&&(v2404=stateCount[1]<=maxCount);(v2404=0>i)||(v2404=stateCount[1]>maxCount);if(v2404)return NaN;(v2404=0<=i)&&(v2404=!image[centerJ+i*qrcode.width]);for(v2404&&(v2404=stateCount[0]<=maxCount);v2404;)stateCount[0]++,i--,(v2404=0<=i)&&(v2404=!image[centerJ+i*qrcode.width]),v2404&&(v2404=stateCount[0]<=maxCount);if(stateCount[0]>maxCount)return NaN;i=startI+1;(startI=i<maxI)&&(startI=image[centerJ+i*qrcode.width]);for(startI&&(startI=stateCount[1]<=maxCount);startI;)stateCount[1]++,
i++,(startI=i<maxI)&&(startI=image[centerJ+i*qrcode.width]),startI&&(startI=stateCount[1]<=maxCount);(startI=i==maxI)||(startI=stateCount[1]>maxCount);if(startI)return NaN;(startI=i<maxI)&&(startI=!image[centerJ+i*qrcode.width]);for(startI&&(startI=stateCount[2]<=maxCount);startI;)stateCount[2]++,i++,(startI=i<maxI)&&(startI=!image[centerJ+i*qrcode.width]),startI&&(startI=stateCount[2]<=maxCount);if(stateCount[2]>maxCount)return NaN;centerJ=stateCount[0]+stateCount[1]+stateCount[2];return 5*JAM.call(Math.abs,
Math,[centerJ-originalStateCountTotal],JAM.policy.p22)>=2*originalStateCountTotal?NaN:originalStateCountTotal=JAM.call(this.foundPatternCross,this,[stateCount],JAM.policy.p22)?JAM.call(this.centerFromEnd,this,[stateCount,i],JAM.policy.p33):NaN}function v112(stateCount){for(var moduleSize=this.moduleSize,maxVariance=moduleSize/2,i=0,v937=3>i;v937;){if(JAM.call(Math.abs,Math,[moduleSize-stateCount[i]],JAM.policy.p22)>=maxVariance)return!1;i++;v937=3>i}return!0}function v111(stateCount,end){return end-
stateCount[2]-stateCount[1]/2}this.image=image$$0;var v2823=[];this.possibleCenters=v2823;this.startX=startX;this.startY=startY;this.width=width;this.height=height$$0;this.moduleSize=moduleSize$$0;this.crossCheckStateCount=startX=[0,0,0];this.resultPointCallback=resultPointCallback;this.centerFromEnd=v111;this.foundPatternCross=v112;this.crossCheckVertical=v113;this.handlePossibleCenter=v114;this.find=v115}
function QRCodeDataBlockReader(blocks,version,numErrorCorrectionCode){function v123(){var output=[],MODE_NUMBER=1,MODE_ROMAN_AND_NUMBER=2,MODE_8BIT_BYTE=4,MODE_KANJI=8;do{var mode=this.NextMode();if(0==mode)if(0<output.length)break;else throw"Empty data block";var v2616=mode!=MODE_NUMBER;v2616&&(v2616=mode!=MODE_ROMAN_AND_NUMBER);v2616&&(v2616=mode!=MODE_8BIT_BYTE);v2616&&(v2616=mode!=MODE_KANJI);if(v2616)throw"Invalid mode: "+mode+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";dataLength=
JAM.call(this.getDataLength,this,[mode],JAM.policy.p22);if(1>dataLength)throw"Invalid data length: "+dataLength;switch(mode){case MODE_NUMBER:for(var mode=this.getFigureString(),v2616=Array(mode.length),j=0,v946=j<mode.length;v946;)v946=JAM.call(mode.charCodeAt,mode,[j],JAM.policy.p22),v2616[j]=v946,j++,v946=j<mode.length;JAM.call(output.push,output,[v2616],JAM.policy.p22);break;case MODE_ROMAN_AND_NUMBER:mode=this.getRomanAndFigureString();v2616=Array(mode.length);j=0;for(v946=j<mode.length;v946;)v946=
JAM.call(mode.charCodeAt,mode,[j],JAM.policy.p22),v2616[j]=v946,j++,v946=j<mode.length;JAM.call(output.push,output,[v2616],JAM.policy.p22);break;case MODE_8BIT_BYTE:mode=this.get8bitByteArray();JAM.call(output.push,output,[mode],JAM.policy.p22);break;case MODE_KANJI:mode=this.getKanjiString(),JAM.call(output.push,output,[mode],JAM.policy.p22)}}while(1);return output}function v122(){var dataLength$$0=dataLength,intData=0,unicodeString="",v951=0<dataLength$$0;do intData=JAM.call(getNextBits,null,[13],
JAM.policy.p18),v951=intData%192,intData/=192,v951=(intData<<8)+v951,intData=0,intData=40956>=v951+33088?v951+33088:v951+49472,unicodeString+=JAM.call(String.fromCharCode,String,[intData],JAM.policy.p22),dataLength$$0--,v951=0<dataLength$$0;while(v951);return unicodeString}function v121(){var dataLength$$0=dataLength,intData=0,output=[],intData=0<dataLength$$0;do intData=JAM.call(this.getNextBits,this,[8],JAM.policy.p18),JAM.call(output.push,output,[intData],JAM.policy.p22),dataLength$$0--,intData=
0<dataLength$$0;while(intData);return output}function v120(){var dataLength$$0=dataLength,intData=0,strData="",v959=0<dataLength$$0;do 3<=dataLength$$0?(intData=JAM.call(this.getNextBits,this,[10],JAM.policy.p18),100>intData&&(strData+="0"),10>intData&&(strData+="0"),dataLength$$0-=3):2==dataLength$$0?(intData=JAM.call(this.getNextBits,this,[7],JAM.policy.p18),10>intData&&(strData+="0"),dataLength$$0-=2):1==dataLength$$0&&(intData=JAM.call(this.getNextBits,this,[4],JAM.policy.p18),--dataLength$$0),
strData+=intData,v959=0<dataLength$$0;while(v959);return strData}function v119(){var dataLength$$0=dataLength,intData=0,strData="",tableRomanAndFigure="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split(""),v963=0<dataLength$$0;do 1<dataLength$$0?(intData=JAM.call(this.getNextBits,this,[11],JAM.policy.p18),v963=JAM.call(Math.floor,Math,[intData/45],JAM.policy.p22),intData%=45,strData+=tableRomanAndFigure[v963],strData+=tableRomanAndFigure[intData],dataLength$$0-=2):1==dataLength$$0&&(intData=JAM.call(this.getNextBits,
this,[6],JAM.policy.p18),strData+=tableRomanAndFigure[intData],--dataLength$$0),v963=0<dataLength$$0;while(v963);return strData}function v118(modeIndicator){for(var index=0;1!=modeIndicator>>index;)index++;return JAM.call(this.getNextBits,this,[qrcode.sizeOfDataLengthInfo[this.dataLengthMode][index]],JAM.policy.p22)}function v117(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:JAM.call(this.getNextBits,this,[4],JAM.policy.p18)}function v116(numBits){var bits=0;if(numBits<
this.bitPointer+1){for(var mask=0,bits=0,v967=bits<numBits;v967;)mask+=1<<bits,bits++,v967=bits<numBits;mask<<=this.bitPointer-numBits+1;bits=(this.blocks[this.blockPointer]&mask)>>this.bitPointer-numBits+1;this.bitPointer-=numBits;return bits}if(numBits<this.bitPointer+1+8){bits=v967=0;for(mask=bits<this.bitPointer+1;mask;)v967+=1<<bits,bits++,mask=bits<this.bitPointer+1;bits=(this.blocks[this.blockPointer]&v967)<<numBits-(this.bitPointer+1);this.blockPointer++;bits+=this.blocks[this.blockPointer]>>
8-(numBits-(this.bitPointer+1));this.bitPointer-=numBits%8;0>this.bitPointer&&(this.bitPointer=8+this.bitPointer);return bits}if(numBits<this.bitPointer+1+16){for(var bits=mask=v967=0,v977=bits<this.bitPointer+1;v977;)v967+=1<<bits,bits++,v977=bits<this.bitPointer+1;v967=(this.blocks[this.blockPointer]&v967)<<numBits-(this.bitPointer+1);this.blockPointer++;v977=this.blocks[this.blockPointer]<<numBits-(this.bitPointer+1+8);this.blockPointer++;for(var bits=0,v982=bits<numBits-(this.bitPointer+1+8);v982;)mask+=
1<<bits,bits++,v982=bits<numBits-(this.bitPointer+1+8);mask<<=8-(numBits-(this.bitPointer+1+8));bits=(this.blocks[this.blockPointer]&mask)>>8-(numBits-(this.bitPointer+1+8));bits=v967+v977+bits;this.bitPointer-=(numBits-8)%8;0>this.bitPointer&&(this.bitPointer=8+this.bitPointer);return bits}return 0}this.blockPointer=0;this.bitPointer=7;this.dataLength=0;this.blocks=blocks;this.numErrorCorrectionCode=numErrorCorrectionCode;9>=version?this.dataLengthMode=0:((blocks=10<=version)&&(blocks=26>=version),
blocks?this.dataLengthMode=1:((blocks=27<=version)&&(blocks=40>=version),blocks&&(this.dataLengthMode=2)));this.getNextBits=v116;this.NextMode=v117;this.getDataLength=v118;this.getRomanAndFigureString=v119;this.getFigureString=v120;this.get8bitByteArray=v121;this.getKanjiString=v122;JAM.call(this.__defineGetter__,this,["DataByte",v123],JAM.policy.p19)}function dragenter(e){e.stopPropagation();e.preventDefault()}function dragover(e){e.stopPropagation();e.preventDefault()}
function drop(e){e.stopPropagation();e.preventDefault();e=e.dataTransfer;e=e.files;handleFiles(e)}function handleFiles(f){function v125(theFile){function v124(e){JAM.call(qrcode.decode,qrcode,[e.target.result],JAM.policy.p22)}return v124}for(var i=0,v999=i<f.length;v999;){var v997=v999=new FileReader,v2827=v125(f[i]);JAM.set(v997,"onload",v2827);JAM.call(v999.readAsDataURL,v999,[f[i]],JAM.policy.p22);i++;v999=i<f.length}}function read(a){alert(a)}
function load(){qrcode.callback=read;var img=JAM.call(document.getElementById,document,["imgpath"],JAM.policy.p16).value;JAM.call(qrcode.decode,qrcode,[img],JAM.policy.p22)}
function passLine(stringPixels){stringPixels=JAM.call(stringPixels.split,stringPixels,["-"],JAM.policy.p16);for(var i=0,v1012=320>i;v1012;){v1012=parseInt(stringPixels[i]);r=v1012>>16&255;g=v1012>>8&255;b=v1012&255;var v1012=imageData.data,v1005=c+0;introspect(JAM.policy.p6)v1012[v1005]=r;v1012=imageData.data;v1005=c+1;introspect(JAM.policy.p6)v1012[v1005]=g;v1012=imageData.data;v1005=c+2;introspect(JAM.policy.p6)v1012[v1005]=b;v1012=imageData.data;v1005=c+3;introspect(JAM.policy.p6)v1012[v1005]=
255;c+=4;i++;v1012=320>i}307200<=c&&(c=0,JAM.call(gCtx.putImageData,gCtx,[imageData,0,0],JAM.policy.p25))}function captureToCanvas(){flash=JAM.call(document.getElementById,document,["embedflash"],JAM.policy.p16);flash.ccCapture();qrcode.decode()}GridSampler={};GridSampler.checkAndNudgePoints=v126;GridSampler.sampleGrid3=v127;GridSampler.sampleGridx=v128;
var v1014=Version,v2828=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017];v1014.VERSION_DECODE_INFO=v2828;var v1015=Version,v2829=buildVersions();v1015.VERSIONS=v2829;Version.getVersionForNumber=v129;Version.getProvisionalVersionForDimension=v130;Version.decodeVersionInformation=v131;
PerspectiveTransform.quadrilateralToQuadrilateral=v132;PerspectiveTransform.squareToQuadrilateral=v133;PerspectiveTransform.quadrilateralToSquare=v134;
var FORMAT_INFO_MASK_QR=21522,FORMAT_INFO_DECODE_LOOKUP=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],BITS_SET_IN_HALF_BYTE=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];FormatInformation.numBitsDiffering=v135;
FormatInformation.decodeFormatInformation=v136;FormatInformation.doDecodeFormatInformation=v137;ErrorCorrectionLevel.forBits=v138;var L=new ErrorCorrectionLevel(0,1,"L"),M=new ErrorCorrectionLevel(1,0,"M"),Q=new ErrorCorrectionLevel(2,3,"Q"),H=new ErrorCorrectionLevel(3,2,"H"),FOR_BITS=[M,L,H,Q];DataBlock.getDataBlocks=v139;DataMask={};DataMask.forReference=v140;
var v1048=DataMask,v2830=[new DataMask000,new DataMask001,new DataMask010,new DataMask011,new DataMask100,new DataMask101,new DataMask110,new DataMask111];v1048.DATA_MASKS=v2830;var v1049=GF256,v2831=new GF256(285);v1049.QR_CODE_FIELD=v2831;var v1050=GF256,v2832=new GF256(301);v1050.DATA_MATRIX_FIELD=v2832;GF256.addOrSubtract=v141;var v1051=Decoder={},v2833=new ReedSolomonDecoder;v1051.rsDecoder=v2833;Decoder.correctErrors=v142;Decoder.decode=v143;
qrcode={imagedata:null,width:0,height:0,qrCodeSymbol:null,debug:!1,sizeOfDataLengthInfo:[[10,9,8,8],[12,11,16,10],[14,13,16,12]],callback:null};qrcode.decode=v145;qrcode.decode_utf8=v146;qrcode.process=v147;qrcode.getPixel=v148;qrcode.binarize=v149;qrcode.getMiddleBrightnessPerArea=v150;qrcode.grayScaleToBitmap=v151;qrcode.grayscale=v152;Array.prototype.remove=v153;var MIN_SKIP=3,MAX_MODULES=57,INTEGER_MATH_SHIFT=8,CENTER_QUORUM=2;qrcode.orderBestPatterns=v154;
var gCtx=null,gCanvas=null,imageData=null,ii=0,jj=0,c=0;JAM.set(JAM.call(document.getElementById,document,["decode"],JAM.policy.p16),"onclick",load)

JAM.stopProfile('load');
