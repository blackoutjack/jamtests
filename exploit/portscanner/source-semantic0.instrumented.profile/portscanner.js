
JAM.startProfile('load');
function v3() {
  var callback$$26 = cb;
  var target$$27 = "localhost";
  var ports$$1 = [20, 21, 22, 23, 24, 100, 101, 102, 103];
  var timeout$$1 = 1E3;
  index = 0;
  var v15 = ports$$1.length;
  var v6 = index < v15;
  for (;v6;) {
    var v4 = AttackAPI.PortScanner;
    var v5 = ports$$1[index];
    v4.scanPort(callback$$26, target$$27, v5, timeout$$1);
    index++;
    var v16 = ports$$1.length;
    v6 = index < v16;
  }
  return;
}
function v2(callback$$25, target$$26, port, timeout) {
  function v1() {
    var v7 = !img$$2;
    if (v7) {
      return;
    }
    img$$2 = undefined;
    callback$$25(target$$26, port, "closed");
    return;
  }
  function v0() {
    var v8 = !img$$2;
    if (v8) {
      return;
    }
    img$$2 = undefined;
    callback$$25(target$$26, port, "open");
    return;
  }
  var v9;
  var v17 = timeout == null;
  if (v17) {
    v9 = 100;
  } else {
    v9 = timeout;
  }
  timeout = v9;
  var img$$2 = new Image;
  img$$2.onerror = v0;
  img$$2.onload = img$$2.onerror;
  var v18 = "http://" + target$$26;
  var v10 = v18 + ":";
  introspect(JAM.policy.p1) {
    img$$2.src = v10 + port;
  }
  setTimeout(v1, timeout);
  return;
}
function cb(tgt, p, res) {
  var v21 = tgt + ":";
  var v20 = v21 + p;
  var v19 = v20 + " ";
  var v11 = v19 + res;
  console.log(v11);
  return;
}
var AttackAPI = {version:"0.1", author:"Petko Petkov (architect)", homepage:"http://www.gnucitizen.org"};
AttackAPI.PortScanner = {};
var v12 = AttackAPI.PortScanner;
v12.scanPort = v2;
var v13 = AttackAPI.PortScanner;
v13.scanTarget = v3;
var v14 = AttackAPI.PortScanner;
v14.scanTarget()

JAM.stopProfile('load');
